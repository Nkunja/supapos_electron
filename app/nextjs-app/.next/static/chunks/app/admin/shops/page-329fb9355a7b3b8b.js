(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8824],{4229:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4516:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5937:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]])},16559:(e,s,a)=>{"use strict";a.d(s,{$v:()=>p,EO:()=>o,Lt:()=>i,Rx:()=>u,Zr:()=>g,ck:()=>h,r7:()=>m,wd:()=>x});var t=a(95155);a(12115);var l=a(54700),r=a(53999),n=a(97168);function i(e){let{...s}=e;return(0,t.jsx)(l.bL,{"data-slot":"alert-dialog",...s})}function c(e){let{...s}=e;return(0,t.jsx)(l.ZL,{"data-slot":"alert-dialog-portal",...s})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(l.hJ,{"data-slot":"alert-dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function o(e){let{className:s,...a}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(d,{}),(0,t.jsx)(l.UC,{"data-slot":"alert-dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...a})]})}function x(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",s),...a})}function h(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function m(e){let{className:s,...a}=e;return(0,t.jsx)(l.hE,{"data-slot":"alert-dialog-title",className:(0,r.cn)("text-lg font-semibold",s),...a})}function p(e){let{className:s,...a}=e;return(0,t.jsx)(l.VY,{"data-slot":"alert-dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...a})}function u(e){let{className:s,...a}=e;return(0,t.jsx)(l.rc,{className:(0,r.cn)((0,n.r)(),s),...a})}function g(e){let{className:s,...a}=e;return(0,t.jsx)(l.ZD,{className:(0,r.cn)((0,n.r)({variant:"outline"}),s),...a})}},20983:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>F});var t=a(95155),l=a(12115),r=a(6874),n=a.n(r),i=a(97168),c=a(99840),d=a(16559),o=a(89852),x=a(82714),h=a(88145),m=a(23227),p=a(4516),u=a(79264),g=a(19420),j=a(50675),f=a(81586),v=a(17580),N=a(71007),b=a(13717),y=a(62525),w=a(84616),A=a(53904),k=a(5937),_=a(92138),C=a(12318),S=a(4229),M=a(88482),z=a(90088),R=a(38543),E=a(5540),Z=a(71158);function F(){let[e,s]=(0,l.useState)([]),[a,r]=(0,l.useState)([]),[F,P]=(0,l.useState)(!0),[$,L]=(0,l.useState)(!1),[J,O]=(0,l.useState)(!1),[V,B]=(0,l.useState)(null),[D,H]=(0,l.useState)(null),[W,q]=(0,l.useState)({name:"",address:"",po_box:"",phone_number:"",tel_number:"",kra_pin:"",is_active:!0}),[I,K]=(0,l.useState)(!1),[U,G]=(0,l.useState)(!1),T=async()=>{try{P(!0);let e=await (0,E.KM)();Array.isArray(e)?s(e):e.results?s(e.results):s([])}catch(e){R.oR.error("Failed to fetch shops"),s([])}finally{P(!1)}},Y=async()=>{try{let e=await (0,Z.lo)();Array.isArray(e)?r(e.filter(e=>"salesperson"===e.role)):e.results&&r(e.results.filter(e=>"salesperson"===e.role))}catch(e){console.error("Error fetching users:",e)}};(0,l.useEffect)(()=>{T(),Y()},[]);let X=e=>{H(e),q({name:e.name,address:e.address,po_box:e.po_box||"",phone_number:e.phone_number||"",tel_number:e.tel_number||"",kra_pin:e.kra_pin||"",is_active:e.is_active}),L(!0)},Q=()=>{L(!1),H(null),q({name:"",address:"",po_box:"",phone_number:"",tel_number:"",kra_pin:"",is_active:!0})},ee=async()=>{if(D&&(()=>{if(!W.name.trim())return R.oR.error("Shop name is required"),!1;if(!W.address.trim())return R.oR.error("Address is required"),!1;if(W.kra_pin.trim()){let e=W.kra_pin.replace(/\s/g,"").toUpperCase();if(11!==e.length||!e.startsWith("P"))return R.oR.error("KRA PIN must be 11 characters long and start with P (e.g., P051234567M)"),!1}return!0})())try{K(!0);let e={...W,kra_pin:W.kra_pin.trim().toUpperCase()};await (0,E.A1)(D.id,e),R.oR.success("Shop updated successfully"),Q(),T()}catch(e){R.oR.error("Failed to update shop")}finally{K(!1)}},es=e=>{B(e),O(!0)},ea=async()=>{if(V)try{G(!0),await (0,E.AC)(V.id),R.oR.success("Shop deleted successfully"),O(!1),B(null),T()}catch(e){R.oR.error("Failed to delete shop")}finally{G(!1)}},et=e=>{let{shop:s}=e;return(0,t.jsx)(M.Zp,{className:"mb-4 lg:hidden",children:(0,t.jsxs)(M.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("h3",{className:"font-semibold text-base",children:s.name}),(0,t.jsx)(h.E,{variant:s.is_active?"default":"secondary",className:"text-xs",children:s.is_active?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:s.address})]}),s.po_box&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:["P.O. Box ",s.po_box]})]}),s.phone_number&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:s.phone_number})]}),s.tel_number&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:s.tel_number})]}),s.kra_pin&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:["KRA: ",s.kra_pin]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:[s.salespersons_count," Salesperson(s)"]})]}),s.salesperson_names&&(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 mt-0.5"}),(0,t.jsx)("span",{children:s.salesperson_names})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>X(s),className:"p-2",children:(0,t.jsx)(b.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>es(s),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})})};return(0,t.jsxs)("div",{className:"container mx-auto p-2 sm:p-4 max-w-7xl",children:[(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Shops Management"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage business shops and their assignments"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n(),{href:"/admin/shops/add",children:(0,t.jsxs)(i.$,{className:"bg-blue-600 hover:bg-blue-700 text-sm px-3 py-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{className:"hidden xs:inline",children:"Add Shop"}),(0,t.jsx)("span",{className:"xs:hidden",children:"Add"})]})}),(0,t.jsxs)(i.$,{onClick:T,disabled:F,variant:"outline",className:"text-sm px-3 py-2",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2 ".concat(F?"animate-spin":"")}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(M.Zp,{children:[(0,t.jsx)(M.aR,{className:"pb-3",children:(0,t.jsxs)(M.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(k.A,{className:"h-5 w-5 text-blue-600"}),"Total Shops"]})}),(0,t.jsxs)(M.Wu,{className:"pt-0",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"All shops"})]})]}),(0,t.jsxs)(M.Zp,{children:[(0,t.jsx)(M.aR,{className:"pb-3",children:(0,t.jsxs)(M.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 text-green-600"}),"Active Shops"]})}),(0,t.jsxs)(M.Wu,{className:"pt-0",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>e.is_active).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active"})]})]}),(0,t.jsxs)(M.Zp,{children:[(0,t.jsx)(M.aR,{className:"pb-3",children:(0,t.jsxs)(M.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 text-purple-600"}),"Shops with Staff"]})}),(0,t.jsxs)(M.Wu,{className:"pt-0",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:e.filter(e=>e.salespersons_count>0).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Have salespersons"})]})]}),(0,t.jsxs)(M.Zp,{children:[(0,t.jsx)(M.aR,{className:"pb-3",children:(0,t.jsxs)(M.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(f.A,{className:"h-5 w-5 text-orange-600"}),"With KRA PIN"]})}),(0,t.jsxs)(M.Wu,{className:"pt-0",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:e.filter(e=>e.kra_pin&&e.kra_pin.trim()).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Have tax registration"})]})]})]}),(0,t.jsxs)(M.Zp,{children:[(0,t.jsx)(M.aR,{className:"pb-4",children:(0,t.jsx)(M.ZB,{className:"text-lg sm:text-xl",children:"All Shops"})}),(0,t.jsx)(M.Wu,{className:"p-0 sm:p-6",children:F?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(A.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading shops..."})]})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(k.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No shops found"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Get started by adding your first shop"}),(0,t.jsx)(n(),{href:"/admin/shops/add",children:(0,t.jsxs)(i.$,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"Add Shop"]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"lg:hidden p-4",children:e.map(e=>(0,t.jsx)(et,{shop:e},e.id))}),(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-900 w-[160px]",children:"Shop Name"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-900 w-[180px]",children:"Address"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-900 w-[120px]",children:"Contact"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-900 w-[100px]",children:"KRA PIN"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-900 w-[160px]",children:"Salespersons"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-900 w-[80px]",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-900 w-[120px]",children:"Manage"}),(0,t.jsx)("th",{className:"text-right p-4 font-semibold text-gray-900 w-[100px]",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-4 font-medium",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),e.po_box&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"h-3 w-3"}),"P.O. Box ",e.po_box]})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("div",{className:"max-w-[160px] truncate",title:e.address,children:e.address})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-1",children:[e.phone_number&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,t.jsx)(g.A,{className:"h-3 w-3 text-gray-500"}),(0,t.jsx)("span",{className:"truncate",children:e.phone_number})]}),e.tel_number&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,t.jsx)(j.A,{className:"h-3 w-3 text-gray-500"}),(0,t.jsx)("span",{className:"truncate",children:e.tel_number})]}),!e.phone_number&&!e.tel_number&&(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"No contact"})]})}),(0,t.jsx)("td",{className:"p-4",children:e.kra_pin?(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"h-3 w-3 text-green-600"}),(0,t.jsx)("span",{className:"text-xs font-mono",children:e.kra_pin})]}):(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Not set"})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsxs)(h.E,{variant:"outline",className:"text-xs",children:[e.salespersons_count," assigned"]})]}),e.salesperson_names&&(0,t.jsx)("div",{className:"text-xs text-gray-600 max-w-[140px] truncate",title:e.salesperson_names,children:e.salesperson_names})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(h.E,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})}),(0,t.jsx)("td",{className:"p-4 text-sm",children:(0,t.jsx)(n(),{href:"/admin/shops/".concat(e.id),children:(0,t.jsxs)(i.$,{variant:"default",size:"sm",className:"bg-blue-400 text-white hover:translate-x-[5px] transition-transform flex items-center gap-1",children:["Reports",(0,t.jsx)(_.A,{className:"w-3 h-3"})]})})}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsxs)("div",{className:"flex gap-1 justify-end",children:[(0,t.jsx)(n(),{href:"/shops/".concat(e.id,"/assign"),children:(0,t.jsx)(i.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50 hover:text-green-700",title:"Assign Salespersons",children:(0,t.jsx)(C.A,{className:"h-3 w-3"})})}),(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>X(e),className:"h-8 w-8 p-0 hover:bg-blue-50 hover:text-blue-700",title:"Edit Shop",children:(0,t.jsx)(b.A,{className:"h-3 w-3"})}),(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>es(e),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete Shop",children:(0,t.jsx)(y.A,{className:"h-3 w-3"})})]})})]},e.id))})]})})})]})})]})]}),(0,t.jsx)(c.lG,{open:$,onOpenChange:L,children:(0,t.jsxs)(c.Cf,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(c.c7,{children:[(0,t.jsx)(c.L3,{children:"Edit Shop"}),(0,t.jsx)(c.rr,{children:"Update the shop information below."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.J,{htmlFor:"name",children:"Shop Name *"}),(0,t.jsx)(o.p,{id:"name",value:W.name,onChange:e=>q(s=>({...s,name:e.target.value})),placeholder:"Enter shop name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.J,{htmlFor:"kra_pin",children:"KRA PIN"}),(0,t.jsx)(o.p,{id:"kra_pin",value:W.kra_pin,onChange:e=>q(s=>({...s,kra_pin:e.target.value})),placeholder:"e.g., P051234567M",maxLength:11})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.J,{htmlFor:"address",children:"Address *"}),(0,t.jsx)("textarea",{id:"address",value:W.address,onChange:e=>q(s=>({...s,address:e.target.value})),placeholder:"Enter shop address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[60px] resize-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.J,{htmlFor:"po_box",children:"P.O. Box"}),(0,t.jsx)(o.p,{id:"po_box",value:W.po_box,onChange:e=>q(s=>({...s,po_box:e.target.value})),placeholder:"e.g., 12345"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.J,{htmlFor:"phone",children:"Phone Number"}),(0,t.jsx)(o.p,{id:"phone",value:W.phone_number,onChange:e=>q(s=>({...s,phone_number:e.target.value})),placeholder:"e.g., +254 700 123456"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.J,{htmlFor:"tel",children:"Telephone"}),(0,t.jsx)(o.p,{id:"tel",value:W.tel_number,onChange:e=>q(s=>({...s,tel_number:e.target.value})),placeholder:"e.g., 020 1234567"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z.d,{id:"active",checked:W.is_active,onCheckedChange:e=>q(s=>({...s,is_active:e}))}),(0,t.jsx)(x.J,{htmlFor:"active",children:"Active Shop"})]})]}),(0,t.jsxs)(c.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:Q,children:"Cancel"}),(0,t.jsx)(i.$,{onClick:ee,disabled:I,children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})}),(0,t.jsx)(d.Lt,{open:J,onOpenChange:O,children:(0,t.jsxs)(d.EO,{className:"max-w-[95vw] sm:max-w-md",children:[(0,t.jsxs)(d.wd,{children:[(0,t.jsx)(d.r7,{className:"text-lg",children:"Delete Shop"}),(0,t.jsxs)(d.$v,{className:"text-sm",children:["Are you sure you want to delete ",(0,t.jsx)("strong",{children:null==V?void 0:V.name}),"? This action cannot be undone and will remove all associated data."]})]}),(0,t.jsxs)(d.ck,{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsx)(d.Zr,{className:"text-sm",children:"Cancel"}),(0,t.jsx)(d.Rx,{onClick:ea,disabled:U,className:"bg-red-600 hover:bg-red-700 text-sm",children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Shop"})]})]})})]})}},23227:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},45503:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(12115);function l(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}},50675:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},51798:(e,s,a)=>{Promise.resolve().then(a.bind(a,20983))},71007:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},79264:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("mailbox",[["path",{d:"M22 17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.5C2 7 4 5 6.5 5H18c2.2 0 4 1.8 4 4v8Z",key:"1lbycx"}],["polyline",{points:"15,9 18,9 18,11",key:"1pm9c0"}],["path",{d:"M6.5 5C9 5 11 7 11 9.5V17a2 2 0 0 1-2 2",key:"15i455"}],["line",{x1:"6",x2:"7",y1:"10",y2:"10",key:"1e2scm"}]])},81586:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},84616:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88145:(e,s,a)=>{"use strict";a.d(s,{E:()=>c});var t=a(95155);a(12115);var l=a(99708),r=a(74466),n=a(53999);let i=(0,r.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:a,asChild:r=!1,...c}=e,d=r?l.DX:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(i({variant:a}),s),...c})}},92138:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},99840:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>o,Es:()=>h,L3:()=>m,c7:()=>x,lG:()=>i,rr:()=>p});var t=a(95155);a(12115);var l=a(87435),r=a(54416),n=a(53999);function i(e){let{...s}=e;return(0,t.jsx)(l.bL,{"data-slot":"dialog",...s})}function c(e){let{...s}=e;return(0,t.jsx)(l.ZL,{"data-slot":"dialog-portal",...s})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function o(e){let{className:s,children:a,showCloseButton:i=!0,...o}=e;return(0,t.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,t.jsx)(d,{}),(0,t.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...o,children:[a,i&&(0,t.jsxs)(l.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(r.A,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",s),...a})}function h(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function m(e){let{className:s,...a}=e;return(0,t.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",s),...a})}function p(e){let{className:s,...a}=e;return(0,t.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...a})}}},e=>{e.O(0,[6586,4277,8543,6373,4783,6874,7435,11,1778,6924,8441,5964,7358],()=>e(e.s=51798)),_N_E=e.O()}]);