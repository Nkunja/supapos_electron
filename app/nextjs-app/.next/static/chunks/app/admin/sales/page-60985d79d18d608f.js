(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5065],{2723:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var a=s(95155),r=s(12115),n=s(88482),l=s(55868),i=s(33109),c=s(79397);function o(e){let{filteredTotals:t,formatCurrency:s}=e;return(0,a.jsxs)("div",{className:" mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Sales"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:s(t.totalAmount)})]}),(0,a.jsx)(l.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Tax Collected"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:s(t.totalTax)})]}),(0,a.jsx)(i.A,{className:"h-8 w-8 text-purple-600"})]})})}),(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"Invoice Count"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:t.invoiceCount})]}),(0,a.jsx)(c.A,{className:"h-8 w-8 text-orange-600"})]})})})]})}var d=s(97168),u=s(89852),m=s(95784),h=s(88145),x=s(66932),p=s(91788),v=s(69074),g=s(53904),f=s(23562),y=s(54416),b=s(47924),j=s(38543);let w=[{label:"Today",value:"1",description:"Last 24 hours"},{label:"7 Days",value:"7",description:"Past week"},{label:"30 Days",value:"30",description:"Last 30 days"},{label:"45 Days",value:"45",description:"Last 45 days"},{label:"90 Days",value:"90",description:"Last 3 months"}];function N(e){let{filters:t,onFiltersChange:s,totalInvoices:l,filteredInvoices:i=[],filterLoading:c=!1,onCustomDateRange:o}=e,[N,k]=(0,r.useState)(t.search||""),[_,A]=(0,r.useState)(!1),[C,S]=(0,r.useState)(""),[F,D]=(0,r.useState)(""),[M,E]=(0,r.useState)(!1),[z,L]=(0,r.useState)("30"),P=()=>{A(!_),_&&(S(""),D(""),M&&(E(!1),L("30"),s({...t,period:"30"})))},T=()=>{s({...t,search:N||void 0})},I=t.status||t.payment_method||t.search||M;return(0,a.jsxs)(n.Zp,{className:"mb-6 bg-white/80 backdrop-blur-sm border border-gray-200/50 shadow-lg",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Sales Filters"}),(0,a.jsxs)(h.E,{variant:"secondary",className:"ml-2",children:[l," invoices"]})]}),(0,a.jsxs)(d.$,{onClick:()=>{if(!i||0===i.length)return void j.oR.error("No data to export");try{let e=i.map(e=>{var t;return[e.invoice_number||"",new Date(e.created_at).toLocaleDateString(),e.customer_name||(null==(t=e.customer)?void 0:t.name)||"",e.status||"",e.payment_method||"",e.total_amount||"0",e.amount_paid||"0",(Number(e.total_amount||0)-Number(e.amount_paid||0)).toString(),e.tax_amount||"0",e.discount_amount||"0"]}),t=["Invoice Number,Date,Customer,Status,Payment Method,Total Amount,Amount Paid,Balance,Tax Amount,Discount Amount",...e.map(e=>e.map(e=>'"'.concat(e,'"')).join(","))].join("\n"),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(s);a.setAttribute("href",r),a.setAttribute("download","sales_export_".concat(new Date().toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),j.oR.success("Exported ".concat(i.length," invoices to CSV"))}catch(e){console.error("Error exporting to CSV:",e),j.oR.error("Failed to export data")}},disabled:!i||0===i.length,className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",size:"sm",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Export CSV"]})]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center space-x-1",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Filter by Period"}),c&&(0,a.jsx)(g.A,{className:"h-3 w-3 animate-spin text-blue-600 ml-2"})]}),M&&(0,a.jsx)("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:["Custom Range: ",(()=>{if(C&&F){let e=new Date(C).toLocaleDateString(),t=new Date(F).toLocaleDateString();return"".concat(e," - ").concat(t)}return""})()]})]}),(0,a.jsx)("button",{onClick:()=>{S(""),D(""),E(!1),L("30"),A(!1),o&&o("",""),s({...t,period:"30"})},className:"p-1 hover:bg-blue-100 rounded transition-colors",title:"Clear custom range",children:(0,a.jsx)(y.A,{className:"h-3 w-3 text-blue-600"})})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[w.map(e=>(0,a.jsx)("button",{onClick:()=>{var a;L(a=e.value),E(!1),A(!1),s({...t,period:a,date_from:void 0,date_to:void 0})},disabled:c,className:"\n                  px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200\n                  ".concat(z===e.value&&!M?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md transform scale-105":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:shadow-sm","\n                  ").concat(c?"opacity-50 cursor-not-allowed":"hover:scale-105","\n                "),title:e.description,children:e.label},e.value)),(0,a.jsxs)("button",{onClick:P,disabled:c,className:"\n                px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-1\n                ".concat(_||M?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:shadow-sm","\n                ").concat(c?"opacity-50 cursor-not-allowed":"hover:scale-105","\n              "),title:"Select custom date range",children:[(0,a.jsx)(f.A,{className:"h-3 w-3"}),"Custom Range"]})]}),_&&(0,a.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:C,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:F,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{if(C&&F){if(new Date(C)>new Date(F))return void j.oR.error("Start date cannot be later than end date");E(!0),L("custom"),A(!1),o&&o(C,F),s({...t,period:"custom"})}else j.oR.error("Please select both start and end dates")},disabled:!C||!F||c,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Range"}),(0,a.jsx)("button",{onClick:P,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsxs)(m.l6,{value:t.status||"all",onValueChange:e=>{s({...t,status:"all"===e?void 0:e})},children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{placeholder:"Select status"})}),(0,a.jsx)(m.gC,{children:[{value:"all",label:"All Status"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}].map(e=>(0,a.jsx)(m.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Payment Method"}),(0,a.jsxs)(m.l6,{value:t.payment_method||"all",onValueChange:e=>{s({...t,payment_method:"all"===e?void 0:e})},children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{placeholder:"Select method"})}),(0,a.jsx)(m.gC,{children:[{value:"all",label:"All Methods"},{value:"cash",label:"Cash"},{value:"mpesa",label:"M-Pesa"},{value:"bank",label:"Bank Transfer"}].map(e=>(0,a.jsx)(m.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Search"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(u.p,{placeholder:"Invoice number, customer...",value:N,onChange:e=>k(e.target.value),onKeyPress:e=>{"Enter"===e.key&&T()},className:"flex-1"}),(0,a.jsx)(d.$,{size:"sm",onClick:T,children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]})]})]}),I&&(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Active filters:"}),t.status&&(0,a.jsxs)(h.E,{variant:"secondary",className:"text-xs",children:["Status: ",t.status]}),t.payment_method&&(0,a.jsxs)(h.E,{variant:"secondary",className:"text-xs",children:["Payment: ",t.payment_method]}),t.search&&(0,a.jsxs)(h.E,{variant:"secondary",className:"text-xs",children:['Search: "',t.search,'"']}),M&&(0,a.jsx)(h.E,{variant:"secondary",className:"text-xs",children:"Custom Date Range"})]}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{k(""),S(""),D(""),E(!1),L("30"),A(!1),s({period:"30",status:void 0,payment_method:void 0,search:void 0})},children:"Clear All"})]})]})]})}var k=s(81586),_=s(37108),A=s(71007),C=s(92657),S=s(81304),F=s(5196),D=s(24357);function M(e){let{invoice:t,onClose:s,onDownload:l,onPrint:i}=e,[c,o]=(0,r.useState)(!1);if(!t)return null;let u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),m=async()=>{try{let e=x();await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)}catch(e){console.error("Failed to copy to clipboard:",e)}},x=()=>{let e=["=".repeat(32),"    ".concat(t.shop_name),"=".repeat(32),"Invoice: ".concat(t.invoice_number),"Date: ".concat(u(t.created_at)),"Customer: ".concat(t.customer_name),"Phone: ".concat(t.customer_phone||"N/A"),"Cashier: ".concat(t.created_by_name),"-".repeat(32),"ITEMS:","-".repeat(32)];return t.items.forEach(t=>{e.push("".concat(t.product_name),"  ".concat(t.quantity," \xd7 ").concat(parseFloat(t.unit_price).toFixed(2)," = ").concat(parseFloat(t.total_price).toFixed(2)))}),e.push("-".repeat(32),"Subtotal: ".concat(parseFloat(t.subtotal).toFixed(2)),"Tax: ".concat(parseFloat(t.tax_amount).toFixed(2)),"Discount: ".concat(parseFloat(t.discount_amount).toFixed(2)),"=".repeat(32),"TOTAL: ".concat(parseFloat(t.total_amount).toFixed(2)),"Paid: ".concat(parseFloat(t.amount_paid).toFixed(2)),"Change: ".concat(parseFloat(t.change_amount).toFixed(2)),"=".repeat(32),"Payment: ".concat(t.payment_method_display),"Status: ".concat(t.status_display),"",t.notes||"","","Thank you for your purchase!","=".repeat(32)),e.join("\n")};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,a.jsx)(n.ZB,{className:"text-lg",children:"Thermal Invoice Preview"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(d.$,{size:"sm",variant:"outline",onClick:m,className:"flex items-center space-x-1",children:[c?(0,a.jsx)(F.A,{className:"h-4 w-4"}):(0,a.jsx)(D.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:c?"Copied!":"Copy"})]}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>l(t),children:(0,a.jsx)(p.A,{className:"h-4 w-4"})}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>i(t),children:(0,a.jsx)(S.A,{className:"h-4 w-4"})}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:s,children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(n.Wu,{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,a.jsxs)("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4 font-mono text-sm",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:t.shop_name}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Business Management"})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Invoice:"}),(0,a.jsx)("span",{className:"font-bold",children:t.invoice_number})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Date:"}),(0,a.jsx)("span",{children:u(t.created_at)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Customer:"}),(0,a.jsx)("span",{children:t.customer_name})]}),t.customer_phone&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Phone:"}),(0,a.jsx)("span",{children:t.customer_phone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Cashier:"}),(0,a.jsx)("span",{children:t.created_by_name})]})]}),(0,a.jsxs)("div",{className:"border-t border-b border-gray-300 py-2 mb-4",children:[(0,a.jsx)("div",{className:"text-center font-bold mb-2",children:"ITEMS"}),t.items.map((e,t)=>(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:e.product_name}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{children:[e.quantity," \xd7 ",parseFloat(e.unit_price).toFixed(2)]}),(0,a.jsx)("span",{className:"font-bold",children:parseFloat(e.total_price).toFixed(2)})]})]},e.id))]}),(0,a.jsxs)("div",{className:"space-y-1 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Subtotal:"}),(0,a.jsx)("span",{children:parseFloat(t.subtotal).toFixed(2)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Tax:"}),(0,a.jsx)("span",{children:parseFloat(t.tax_amount).toFixed(2)})]}),parseFloat(t.discount_amount)>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Discount:"}),(0,a.jsxs)("span",{children:["-",parseFloat(t.discount_amount).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"border-t-2 border-gray-300 pt-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,a.jsx)("span",{children:"TOTAL:"}),(0,a.jsxs)("span",{children:["KSh ",parseFloat(t.total_amount).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Paid:"}),(0,a.jsxs)("span",{children:["KSh ",parseFloat(t.amount_paid).toFixed(2)]})]}),parseFloat(t.change_amount)>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Change:"}),(0,a.jsxs)("span",{children:["KSh ",parseFloat(t.change_amount).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"space-y-1 mb-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Payment Method:"}),(0,a.jsx)("span",{children:t.payment_method_display})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Status:"}),(0,a.jsx)(h.E,{variant:"outline",className:"text-xs",children:t.status_display})]})]}),t.notes&&(0,a.jsx)("div",{className:"border-t border-gray-300 pt-2 mb-4",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:"Notes:"}),(0,a.jsx)("div",{className:"text-gray-600",children:t.notes})]})}),(0,a.jsxs)("div",{className:"text-center text-sm",children:[(0,a.jsx)("div",{className:"font-bold mb-1",children:"Thank you for your purchase!"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Please keep this receipt for your records"})]})]})})]})})}function E(e){let{invoices:t,loading:s=!1}=e,[l,i]=(0,r.useState)(null),c=e=>{console.log("Download invoice:",e)},o=e=>{console.log("Print invoice:",e)};return s?(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Sales Invoices"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg"})},t))})})]}):0===t.length?(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Sales Invoices"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(_.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No invoices found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No sales invoices match your current filters."})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Sales Invoices"}),(0,a.jsxs)(h.E,{variant:"secondary",children:[t.length," invoices"]})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.invoice_number}),(0,a.jsx)(h.E,{className:(e=>{switch(e.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:e.status_display})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.customer_name})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.payment_method_display})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.items.length," items"]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:(0,a.jsxs)("span",{children:["Created by: ",e.created_by_name]})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["KSh ",parseFloat(e.total_amount).toLocaleString()]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.items.length," items"]})]})]})]}),(0,a.jsxs)("div",{className:"ml-4 flex flex-col space-y-2",children:[(0,a.jsxs)(d.$,{size:"sm",variant:"outline",onClick:()=>{i(e)},className:"w-full",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"Preview"]}),(0,a.jsxs)(d.$,{size:"sm",variant:"outline",onClick:()=>c(e),className:"w-full",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Download"]}),(0,a.jsxs)(d.$,{size:"sm",variant:"outline",onClick:()=>o(e),className:"w-full",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"Print"]})]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Items:"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.items.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:e.product_name}),(0,a.jsxs)("span",{children:[e.quantity," \xd7 KSh ",parseFloat(e.unit_price).toLocaleString()]})]},e.id)),e.items.length>3&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 italic",children:["+",e.items.length-3," more items"]})]})]})]},e.id))})})]}),(0,a.jsx)(M,{invoice:l,onClose:()=>{i(null)},onDownload:c,onPrint:o})]})}var z=s(39740),L=s(51162);class P{get(e){let t=this.cache.get(e);return t?Date.now()>t.expiresAt?(this.cache.delete(e),null):t.data:null}set(e,t,s){let a=Date.now(),r=a+(s||this.CACHE_DURATION);this.cache.set(e,{data:t,timestamp:a,expiresAt:r})}has(e){let t=this.cache.get(e);return!!t&&(!(Date.now()>t.expiresAt)||(this.cache.delete(e),!1))}invalidate(e){this.cache.delete(e)}clear(){this.cache.clear()}getTimeRemaining(e){let t=this.cache.get(e);if(!t)return 0;let s=Date.now();return Math.max(0,t.expiresAt-s)}getCacheAge(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp:0}getAllKeys(){return Array.from(this.cache.keys())}invalidatePattern(e){this.getAllKeys().forEach(t=>{t.includes(e)&&this.cache.delete(t)})}getStats(){let e=this.getAllKeys();return{totalCaches:e.length,caches:e.map(e=>{let t=this.cache.get(e);return{key:e,ageMs:this.getCacheAge(e),remainingMs:this.getTimeRemaining(e),expiresAt:t?new Date(t.expiresAt):null}})}}constructor(){this.CACHE_DURATION=3e5,this.cache=new Map}}let T=new P,I={ALL_INVOICES:"all_invoices"};function R(){let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(null),[l,i]=(0,r.useState)({period:"30"}),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(!0),[h,x]=(0,r.useState)(!0),[p,v]=(0,r.useState)([]),[g,f]=(0,r.useState)([]),[y,b]=(0,r.useState)(null),[w,k]=(0,r.useState)(!0),[_,A]=(0,r.useState)(new Date),[C,S]=(0,r.useState)(!1),F=(0,r.useRef)(null),D=(0,r.useMemo)(()=>{let e={totalAmount:0,totalPaid:0,totalTax:0,totalDiscount:0,invoiceCount:p.length};return p.forEach(t=>{e.totalAmount+=Number(t.total_amount)||0,e.totalPaid+=Number(t.amount_paid)||0,e.totalTax+=Number(t.tax_amount)||0,e.totalDiscount+=Number(t.discount_amount)||0}),e},[p]),M=(0,r.useCallback)(e=>{switch(e){case"1":case"day":return 1;case"7":case"week":return 7;case"30":case"month":case"custom":default:return 30;case"45":return 45;case"90":case"6months":return 90}},[]),P=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(!0);try{let s=M(l.period),a=await (0,z.t)(s.toString(),e);if(!a||!a.overall_summary)throw Error("Invalid data structure received");t(a)}catch(e){console.error("Error loading sales summary:",e),t(null),j.oR.error("Failed to load sales summary")}finally{m(!1)}},[l.period,M]),R=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{x(!0);let t=await (0,L.Cb)(e);f(t.results),w&&(v(t.results),k(!1)),A(new Date),e&&j.oR.success("Invoices refreshed successfully")}catch(e){console.error("Error fetching invoices:",e),j.oR.error("Failed to load invoices")}finally{x(!1),d(!1)}},[w]),Z=(0,r.useCallback)(async()=>{S(!0),T.invalidate(I.ALL_INVOICES),await Promise.all([R(!0),P(!0)]),S(!1)},[R,P]);(0,r.useEffect)(()=>((async()=>{try{await R(!1),await P(!1)}catch(e){console.error("Error initializing data:",e)}})(),F.current=setInterval(()=>{console.log("\uD83D\uDD04 Auto-refreshing invoices (5 minutes elapsed)"),R(!0),P(!0)},3e5),()=>{F.current&&clearInterval(F.current)}),[R,P]),(0,r.useEffect)(()=>{w||P(!1)},[l.period,y,P,w]),(0,r.useEffect)(()=>{w||V()},[l,g,y,w]);let V=()=>{let e=[...g];if("custom"===l.period&&y&&y.start&&y.end){let t=new Date(y.start),s=new Date(y.end);s.setHours(23,59,59,999),e=e.filter(e=>{let a=new Date(e.created_at);return a>=t&&a<=s})}else if("custom"!==l.period){let t,s=new Date;switch(l.period){case"1":case"day":t=new Date(s.getFullYear(),s.getMonth(),s.getDate());break;case"7":case"week":t=new Date(s.getTime()-6048e5);break;case"30":case"month":default:t=new Date(s.getTime()-2592e6);break;case"45":t=new Date(s.getTime()-3888e6);break;case"90":case"6months":t=new Date(s.getTime()-7776e6)}e=e.filter(e=>new Date(e.created_at)>=t)}if(l.status&&(e=e.filter(e=>{var t,s;return(null==(t=e.status)?void 0:t.toLowerCase())===(null==(s=l.status)?void 0:s.toLowerCase())})),l.payment_method&&(e=e.filter(e=>{var t,s;return(null==(t=e.payment_method)?void 0:t.toLowerCase())===(null==(s=l.payment_method)?void 0:s.toLowerCase())})),l.search){let t=l.search.toLowerCase();e=e.filter(e=>{var s,a,r,n;return(null==(s=e.invoice_number)?void 0:s.toLowerCase().includes(t))||(null==(a=e.customer_name)?void 0:a.toLowerCase().includes(t))||(null==(n=e.customer)||null==(r=n.name)?void 0:r.toLowerCase().includes(t))})}v(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{filteredTotals:D,formatCurrency:e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(Number(e)),lastRefresh:_,onRefresh:Z,isRefreshing:C}),(0,a.jsx)(N,{filters:l,onFiltersChange:e=>{i(e)},totalInvoices:g.length,filteredInvoices:p,filterLoading:h,onCustomDateRange:(e,t)=>{e&&t?b({start:e,end:t}):b(null)}}),(0,a.jsx)(E,{invoices:p,loading:h||c})]})}},7085:(e,t,s)=>{Promise.resolve().then(s.bind(s,2723))},23562:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},24357:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},33109:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},37108:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},39740:(e,t,s)=>{"use strict";s.d(t,{t:()=>n}),s(8102);var a=s(61778);let r="".concat("https://supa.sirnkunja.co.ke/","api/invoices/sales_summary/?period_days=30"),n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30";arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return console.log("\uD83D\uDD04 Fetching sales summary from API for ".concat(e," days")),(await a.default.get("".concat(r,"?period_days=").concat(e))).data}catch(e){throw Error("Failed to fetch sales summary.")}}},47924:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},51162:(e,t,s)=>{"use strict";s.d(t,{Aq:()=>h,Cb:()=>u,de:()=>m,my:()=>d,sV:()=>o}),s(8102);var a=s(61778);let r="".concat("https://supa.sirnkunja.co.ke/","api/invoices/"),n=async e=>{try{let t=new URLSearchParams;(null==e?void 0:e.page)&&t.append("page",e.page),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.date_from)&&t.append("date_from",e.date_from),(null==e?void 0:e.date_to)&&t.append("date_to",e.date_to),(null==e?void 0:e.shop)&&t.append("shop",e.shop);let s=t.toString()?"".concat(r,"?").concat(t.toString()):r;return(await a.default.get(s)).data}catch(e){throw Error("Failed to fetch invoices.")}},l=async e=>{try{return(await a.default.post(r,e)).data}catch(e){throw Error("Failed to create invoice.")}};var i=s(43114),c=s(39740);let o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30";try{return await (0,c.t)(e)}catch(e){throw Error("Failed to fetch sales statistics.")}},d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{console.log("\uD83D\uDD04 Fetching recent invoices from API");let t=await n({page:"1"});return Array.isArray(null==t?void 0:t.results)&&t.results.length&&(t.results=t.results.slice(0,e)),t}catch(e){throw Error("Failed to fetch recent invoices.")}},u=async function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{console.log("\uD83D\uDD04 Fetching fresh invoices from API");let e=await n({});return Array.isArray(null==e?void 0:e.results)&&e.results.length&&(e.results=e.results.slice(0,e.count)),e}catch(e){throw Error("Failed to fetch all invoices.")}},m=async e=>{try{return await (0,i.ZK)({search:e})}catch(e){throw Error("Failed to fetch products for sale.")}},h=async e=>{try{return await l(e)}catch(e){throw Error("Failed to create sales invoice.")}}},53904:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},53999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(52596),r=s(39688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},54416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},55868:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},66932:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},69074:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},79397:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},81304:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},81586:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},88145:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var a=s(95155);s(12115);var r=s(99708),n=s(74466),l=s(53999);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,asChild:n=!1,...c}=e,o=n?r.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,l.cn)(i({variant:s}),t),...c})}},88482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>l});var a=s(95155);s(12115);var r=s(53999);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},89852:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(95155);s(12115);var r=s(53999);function n(e){let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},91788:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},92657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},95784:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>h,gC:()=>m,l6:()=>o,yv:()=>d});var a=s(95155);s(12115);var r=s(22918),n=s(66474),l=s(5196),i=s(47863),c=s(53999);function o(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...t})}function d(e){let{...t}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:l,...i}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":s,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[l,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:s,position:n="popper",...l}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,a.jsx)(x,{}),(0,a.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(p,{})]})})}function h(e){let{className:t,children:s,...n}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(l.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:s})]})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(i.A,{className:"size-4"})})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(n.A,{className:"size-4"})})}},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,r:()=>i});var a=s(95155);s(12115);var r=s(99708),n=s(74466),l=s(53999);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s,size:n,asChild:c=!1,...o}=e,d=c?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,l.cn)(i({variant:s,size:n,className:t})),...o})}}},e=>{e.O(0,[6586,4277,8543,6373,4783,8787,3438,1778,3114,8441,5964,7358],()=>e(e.s=7085)),_N_E=e.O()}]);