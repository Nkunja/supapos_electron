(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9478],{40410:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var r=t(95155),a=t(12115),l=t(38543);t(85716);var i=t(79331),n=t(97168),o=t(88145),c=t(67133),d=t(69663),x=t(55670),m=t(1243),h=t(17580),p=t(40646),u=t(23861),f=t(54416),j=t(74783),v=t(75525),g=t(33109),b=t(14186),N=t(47924),w=t(81497),y=t(79397),A=t(381),S=t(59947),_=t(34835),k=t(97502);function C(e){let{user:s,onMenuClick:t,isSidebarOpen:l}=e,{logout:i}=(0,k.Z)(),[C]=(0,a.useState)([{id:1,message:"Purchase Order #PO-2024-001 requires approval",time:"5m ago",unread:!0,type:"approval",priority:"high"},{id:2,message:"Low stock alert: Critical medications below threshold",time:"15m ago",unread:!0,type:"alert",priority:"high"},{id:3,message:"New user Sarah Johnson registered - pending approval",time:"30m ago",unread:!0,type:"user",priority:"medium"},{id:4,message:"Daily sales report generated successfully",time:"1h ago",unread:!1,type:"report",priority:"low"}]),P=C.filter(e=>e.unread).length,E=C.filter(e=>e.unread&&"high"===e.priority).length,O=async()=>{try{await i()}catch(e){console.error("Logout error:",e)}};return(0,r.jsxs)("header",{className:"bg-white/95 backdrop-blur-md border-b border-slate-200 h-18 flex items-center justify-between px-4 lg:px-6 sticky top-0 z-50 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsx)("button",{onClick:t,className:"p-2 rounded-xl text-gray-500 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 lg:hidden transition-all",children:l?(0,r.jsx)(f.A,{className:"h-6 w-6"}):(0,r.jsx)(j.A,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-11 h-11 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg",children:(0,r.jsx)(v.A,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-slate-900 to-purple-700 bg-clip-text text-transparent",children:"SupaPos Pro"}),(0,r.jsx)("p",{className:"text-sm text-slate-600",children:"Supervisor Dashboard"})]})]}),(0,r.jsxs)("div",{className:"hidden lg:block",children:[(0,r.jsxs)("p",{className:"text-sm text-slate-700 font-medium",children:[(()=>{let e=new Date().getHours();return e<12?"Good morning":e<17?"Good afternoon":"Good evening"})(),", ",(0,r.jsx)("span",{className:"font-bold text-purple-700",children:null==s?void 0:s.first_name}),"! \uD83D\uDC4B"]}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"Managing operations with excellence"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"hidden xl:flex items-center space-x-4 mr-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-2.5 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-green-700 font-semibold",children:"Today's Revenue"}),(0,r.jsx)("p",{className:"text-sm font-bold text-green-800",children:"KSh 47,280"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-2.5 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[(0,r.jsx)(h.A,{className:"h-5 w-5 text-blue-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-blue-700 font-semibold",children:"Active Staff"}),(0,r.jsx)("p",{className:"text-sm font-bold text-blue-800",children:"12/15"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-2.5 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:[(0,r.jsx)(b.A,{className:"h-5 w-5 text-amber-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-amber-700 font-semibold",children:"Pending Approvals"}),(0,r.jsx)("p",{className:"text-sm font-bold text-amber-800",children:"7"})]})]})]}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",className:"hidden md:flex p-2 hover:bg-slate-100 rounded-xl",children:(0,r.jsx)(N.A,{className:"h-5 w-5 text-slate-600"})}),(0,r.jsxs)(n.$,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-slate-100 rounded-xl",children:[(0,r.jsx)(w.A,{className:"h-5 w-5 text-slate-600"}),(0,r.jsx)(o.E,{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full p-0 flex items-center justify-center text-xs bg-blue-500 text-white border-2 border-white",children:"3"})]}),(0,r.jsxs)(c.rI,{children:[(0,r.jsx)(c.ty,{asChild:!0,children:(0,r.jsxs)(n.$,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-slate-100 rounded-xl",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-slate-600"}),P>0&&(0,r.jsx)(o.E,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs border-2 border-white ".concat(E>0?"bg-red-500 animate-pulse":"bg-blue-500"," text-white"),children:P})]})}),(0,r.jsxs)(c.SQ,{align:"end",className:"w-96",children:[(0,r.jsxs)(c.lp,{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Notifications"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[E>0&&(0,r.jsxs)(o.E,{variant:"destructive",className:"text-xs",children:[E," urgent"]}),(0,r.jsxs)(o.E,{variant:"secondary",className:"text-xs",children:[P," new"]})]})]}),(0,r.jsx)(c.mB,{}),(0,r.jsx)("div",{className:"max-h-80 overflow-y-auto",children:C.map(e=>(0,r.jsx)(c._2,{className:"flex items-start p-4 cursor-pointer hover:bg-slate-50",children:(0,r.jsxs)("div",{className:"flex items-start w-full space-x-3",children:[(0,r.jsx)("div",{className:"mt-1",children:(e=>{switch(e){case"approval":return(0,r.jsx)(x.A,{className:"h-4 w-4 text-amber-600"});case"alert":return(0,r.jsx)(m.A,{className:"h-4 w-4 text-red-600"});case"user":return(0,r.jsx)(h.A,{className:"h-4 w-4 text-blue-600"});case"report":return(0,r.jsx)(p.A,{className:"h-4 w-4 text-green-600"});default:return(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-600"})}})(e.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm ".concat(e.unread?"font-semibold text-slate-900":"text-slate-600"),children:e.message}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,r.jsx)("p",{className:"text-xs text-slate-500",children:e.time}),(0,r.jsx)(o.E,{variant:"high"===e.priority?"destructive":"medium"===e.priority?"default":"secondary",className:"text-xs px-1.5 py-0.5",children:e.priority})]})]}),e.unread&&(0,r.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full mt-2 flex-shrink-0"})]})},e.id))}),(0,r.jsx)(c.mB,{}),(0,r.jsx)(c._2,{className:"text-center justify-center text-purple-600 font-medium hover:bg-purple-50",children:"View all notifications"})]})]}),(0,r.jsxs)(c.rI,{children:[(0,r.jsx)(c.ty,{asChild:!0,children:(0,r.jsxs)(n.$,{variant:"ghost",className:"flex items-center space-x-3 px-3 py-2 h-auto hover:bg-slate-100 rounded-xl",children:[(0,r.jsx)(d.eu,{className:"h-10 w-10 ring-2 ring-purple-100 shadow-md",children:(0,r.jsx)(d.q5,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold text-sm",children:(null==s?void 0:s.first_name)&&(null==s?void 0:s.last_name)?"".concat(s.first_name[0]).concat(s.last_name[0]).toUpperCase():"S"})}),(0,r.jsxs)("div",{className:"hidden md:block text-left",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:(null==s?void 0:s.first_name)||"Supervisor"}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(v.A,{className:"h-3 w-3 text-purple-600"}),(0,r.jsx)("p",{className:"text-xs text-slate-500 capitalize",children:(null==s?void 0:s.role)||"Supervisor"})]})]})]})}),(0,r.jsxs)(c.SQ,{align:"end",className:"w-64",children:[(0,r.jsx)(c.lp,{children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[null==s?void 0:s.first_name," ",(null==s?void 0:s.last_name)||"Supervisor"]}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:(null==s?void 0:s.email)||"No email"}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,r.jsx)(v.A,{className:"h-3 w-3 text-purple-600"}),(0,r.jsx)(o.E,{variant:"outline",className:"text-xs bg-purple-50 text-purple-700 border-purple-200",children:(null==s?void 0:s.role)||"Supervisor"})]})]})}),(0,r.jsx)(c.mB,{}),(0,r.jsxs)(c._2,{className:"hover:bg-slate-50",children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"My Profile"})]}),(0,r.jsxs)(c._2,{className:"hover:bg-slate-50",children:[(0,r.jsx)(A.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Settings"})]}),(0,r.jsxs)(c._2,{className:"hover:bg-slate-50",children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Team Management"})]}),(0,r.jsxs)(c._2,{className:"hover:bg-slate-50",children:[(0,r.jsx)(S.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Help & Support"})]}),(0,r.jsx)(c.mB,{}),(0,r.jsxs)(c._2,{onClick:O,className:"text-red-600 focus:text-red-600 focus:bg-red-50 hover:bg-red-50",children:[(0,r.jsx)(_.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Sign out"})]})]})]})]})]})}var P=t(35695),E=t(57340),O=t(57434),z=t(37108),B=t(72713),D=t(13052);function M(e){let{isOpen:s,onClose:t}=e,a=(0,P.useRouter)(),l=(0,P.usePathname)(),i=[{id:"dashboard",label:"Dashboard",icon:E.A,href:"/supervisor",description:"Overview & analytics"},{id:"user-management",label:"User Management",icon:h.A,href:"/supervisor/users",description:"Manage staff & roles"},{id:"purchase-orders",label:"Purchase Orders",icon:O.A,href:"/supervisor/purchase-orders",description:"Approve & track orders"},{id:"inventory",label:"Inventory Control",icon:z.A,href:"/supervisor/inventory",description:"Stock oversight"},{id:"reports",label:"Reports & Analytics",icon:B.A,href:"/supervisor/reports",description:"Business insights"},{id:"performance",label:"Performance",icon:g.A,href:"/supervisor/performance",description:"Team & sales metrics"},{id:"approvals",label:"Approvals (Utilities)",icon:x.A,href:"/supervisor/approvals",description:"Manage utility approvals"},{id:"compliance",label:"Compliance",icon:v.A,href:"/supervisor/compliance",description:"Regulatory oversight"},{id:"settings",label:"Settings",icon:A.A,href:"/supervisor/settings",description:"System configuration"}];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("aside",{className:"\n          fixed inset-y-0 left-0 z-10 w-72 bg-gradient-to-b from-slate-900 to-slate-800 shadow-2xl transform transition-transform duration-300 ease-in-out\n          ".concat(s?"translate-x-0":"-translate-x-full","\n          lg:translate-x-0 lg:static lg:inset-0\n          flex flex-col border-r border-slate-700\n        "),children:[(0,r.jsx)("div",{className:"flex items-center px-6 py-6 border-b border-slate-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg",children:(0,r.jsx)(v.A,{className:"h-7 w-7 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-white",children:"SupaPos Pro"}),(0,r.jsx)("p",{className:"text-xs text-slate-400",children:"Supervisor Portal"})]})]})}),(0,r.jsx)("nav",{className:"flex-1 mt-4 px-4 pb-4 overflow-y-auto",children:(0,r.jsx)("div",{className:"space-y-1",children:i.map(e=>{var s;let i=e.icon,n="/supervisor"===(s=e.href)?"/supervisor"===l||"/supervisor/"===l:null==l?void 0:l.startsWith(s);return(0,r.jsxs)("button",{onClick:()=>{var s;return s=e.href,void(a.push(s),t())},className:"\n                    w-full group flex items-center px-4 py-3.5 text-sm font-medium rounded-xl transition-all duration-200\n                    ".concat(n?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-[1.02]":"text-slate-300 hover:bg-slate-800 hover:text-white","\n                  "),children:[(0,r.jsx)(i,{className:"\n                    w-5 h-5 mr-4 transition-all duration-200\n                    ".concat(n?"text-white":"text-slate-400 group-hover:text-slate-200","\n                  ")}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[(0,r.jsx)("div",{className:"font-semibold",children:e.label}),(0,r.jsx)("div",{className:"\n                      text-xs mt-0.5 transition-colors\n                      ".concat(n?"text-blue-100":"text-slate-500 group-hover:text-slate-400","\n                    "),children:e.description})]}),n&&(0,r.jsx)(D.A,{className:"w-4 h-4 text-white"})]},e.id)})})}),(0,r.jsx)("div",{className:"px-6 py-4 border-t border-slate-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-slate-800/50 rounded-lg",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-green-500 rounded-full",children:(0,r.jsx)(y.A,{className:"h-4 w-4 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium text-green-400",children:"System Status"}),(0,r.jsx)("p",{className:"text-xs text-slate-400",children:"All systems operational"})]})]})})]})})}function R(e){let{children:s}=e,[t,n]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1),{user:d}=(0,k.Z)();return((0,a.useEffect)(()=>{let e=()=>{window.innerWidth<1024?n(!1):n(!0)};return e(),window.addEventListener("resize",e),c(!0),()=>window.removeEventListener("resize",e)},[]),o)?(0,r.jsx)(i.A,{allowedRoles:["supervisor"],publicRoutes:["/login","/forgot-password"],children:(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:[(0,r.jsx)(C,{user:d,onMenuClick:()=>n(!t),isSidebarOpen:t}),(0,r.jsxs)("div",{className:"flex flex-1 relative",children:[(0,r.jsx)(M,{isOpen:t,onClose:()=>n(!1)}),t&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300",onClick:()=>n(!1),"aria-hidden":"true"}),(0,r.jsx)("main",{className:"\n              flex-1 flex flex-col\n              transition-all duration-300 ease-in-out\n            ",children:(0,r.jsx)("div",{className:"flex-1 pt-1",children:(0,r.jsx)("div",{className:"h-full px-4 sm:px-2 lg:px-6 py-6",children:(0,r.jsx)("div",{className:"w-full mx-auto h-full",children:(0,r.jsx)("div",{className:"min-h-[calc(100vh-8rem)]",children:s})})})})})]}),(0,r.jsx)(l.N9,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",className:"mt-20",toastClassName:"shadow-xl border border-gray-200 rounded-lg"})]})}):null}},76482:(e,s,t)=>{Promise.resolve().then(t.bind(t,40410))}},e=>{e.O(0,[4797,6586,4277,8543,4783,8787,6489,4821,1778,5160,8441,5964,7358],()=>e(e.s=76482)),_N_E=e.O()}]);