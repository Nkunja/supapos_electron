(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5494],{14186:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:c?24*Number(i)/Number(s):i,className:n("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:c,...o}=r;return(0,a.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return r.displayName=s(e),r}},25487:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},40646:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48313:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(52596),s=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},78038:(e,t,r)=>{Promise.resolve().then(r.bind(r,96997))},88482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>l});var a=r(95155);r(12115);var s=r(53999);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},96997:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(95155),s=r(12115),n=r(88482),l=r(48313),i=r(25487),c=r(14186),o=r(40646),d=r(97502);function u(){let{maintenanceDetails:e,retryConnection:t}=(0,d.Z)(),[r,u]=(0,s.useState)(new Date),m=(null==e?void 0:e.message)||"SupaPos is currently undergoing scheduled maintenance";return(0,s.useEffect)(()=>{let e=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(e)},[]),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-amber-50 to-orange-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-xl",children:[(0,a.jsxs)(n.Zp,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[(0,a.jsxs)(n.aR,{className:"text-center pb-2",children:[(0,a.jsxs)("div",{className:"mx-auto mb-4 relative",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:(0,a.jsx)(l.A,{className:"w-12 h-12 text-white"})}),(0,a.jsx)("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-white"})})]}),(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-bold bg-amber-50 border-amber-200 text-amber-600",children:"PLANNED MAINTENANCE"})}),(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-amber-800 mb-2",children:"Scheduled Maintenance"}),(0,a.jsx)(n.BT,{className:"text-gray-600 text-base leading-relaxed",children:m})]}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-amber-50 border-amber-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-amber-800 text-sm",children:"Maintenance Status"}),(0,a.jsx)("p",{className:"text-amber-600 text-sm mt-1",children:"System temporarily unavailable"}),(0,a.jsx)("div",{className:"mt-2 space-y-1 text-xs",children:(0,a.jsx)("p",{className:"text-amber-600",children:(0,a.jsx)("strong",{children:" Simplifying Life with Smart Solutions "})})})]})]})}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-900 text-xs font-medium",children:"We'll be back soon!"}),(0,a.jsx)("p",{className:"text-green-700 text-xs mt-1",children:"Your data is safe and will be available when maintenance is complete."})]})]})})})]})]}),(0,a.jsxs)("div",{className:"text-center mt-6",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"SupaPos â€¢ Business Management Software"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Status: Under Maintenance"})]})]})})}},97502:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>d,Z:()=>o});var a=r(95155),s=r(61778),n=r(35695),l=r(12115),i=r(38543);let c=(0,l.createContext)({user:null,isLoggedIn:!1,loading:!0,authChecked:!1,serverUnreachable:!1,maintenanceMode:!1,maintenanceDetails:null,login:async()=>({message:"",isAuthenticated:!1}),logout:async()=>{},refreshUser:async()=>{},retryConnection:async()=>({message:"",isAuthenticated:!1}),navigateToRoleDashboard:()=>{},getRoleBasedRedirectUrl:()=>"/"}),o=()=>(0,l.useContext)(c);function d(e){let{children:t}=e,{user:r,isAuthenticated:o,isLoading:d,authChecked:u,serverUnreachable:m,maintenanceMode:h,maintenanceDetails:x,login:g,logout:f,fetchUser:b,retryConnection:p,getRoleBasedRedirectUrl:v}=(0,s.As)(),y=(0,n.useRouter)(),N=(0,l.useRef)(!0);(0,l.useEffect)(()=>()=>{N.current=!1},[]),(0,l.useEffect)(()=>{if(!N.current||!u)return;let e=window.location.pathname,t="/login"===e||e.startsWith("/auth/")||"/maintenance"===e||"/server-unreachable"===e;if(h&&"/maintenance"!==e)y.push("/maintenance");else if(m&&"/server-unreachable"!==e)y.push("/server-unreachable");else if(o||d||t){if(o&&(null==r?void 0:r.role)&&!t){let t=k(r.role);e.startsWith(t)||y.push(t)}}else y.push("/login")},[h,m,o,d,u,r,y]);let w=async()=>{if(N.current)try{await f(),N.current&&i.oR.success("Logged out successfully")}catch(e){N.current&&i.oR.error("Error during logout")}},j=async()=>{if(N.current&&o)try{await b()}catch(e){N.current&&i.oR.error("Error refreshing user data")}},k=e=>{switch(e.toLowerCase()){case"admin":return"/admin";case"supervisor":return"/supervisor";default:return"/sales"}},A=async()=>{try{return await p()}catch(e){return N.current&&i.oR.error("Failed to reconnect to server"),{message:"Connection failed",isAuthenticated:!1,serverError:!0}}};return(0,a.jsx)(c.Provider,{value:{user:r,isLoggedIn:o,loading:d,authChecked:u,serverUnreachable:m,maintenanceMode:h,maintenanceDetails:x,login:g,logout:w,refreshUser:j,retryConnection:A,navigateToRoleDashboard:()=>{if(N.current)if(null==r?void 0:r.role){let e=k(r.role);y.push(e)}else y.push("/login")},getRoleBasedRedirectUrl:k},children:t})}}},e=>{e.O(0,[6586,4277,8543,1778,8441,5964,7358],()=>e(e.s=78038)),_N_E=e.O()}]);