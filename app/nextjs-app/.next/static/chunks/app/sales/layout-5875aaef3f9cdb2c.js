(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2126],{55174:(e,s,l)=>{Promise.resolve().then(l.bind(l,76283))},76283:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>B});var t=l(95155),a=l(12115),r=l(38543);l(85716);var i=l(79331),n=l(97168),c=l(88145),o=l(67133),d=l(69663),x=l(54416),m=l(74783),h=l(5937),u=l(23861),p=l(79397),f=l(27213),j=l(381),g=l(37108),b=l(59947),v=l(34835),N=l(97502);function w(e){let{user:s,onMenuClick:l,isSidebarOpen:r}=e,{logout:i}=(0,N.Z)(),[w]=(0,a.useState)([{id:1,message:"Low stock alert: Ibuprofen 400mg",time:"10m ago",unread:!0},{id:2,message:"Daily sales target achieved!",time:"1h ago",unread:!0},{id:3,message:"New product added to inventory",time:"2h ago",unread:!1}]),y=w.filter(e=>e.unread).length,A=async()=>{try{await i()}catch(e){console.error("Logout error:",e)}};return(0,t.jsxs)("header",{className:"bg-white/90 backdrop-blur-md border-b border-slate-200 h-16 flex items-center justify-between px-4 lg:px-6 sticky top-0 z-50 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsx)("button",{onClick:l,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:hidden",children:r?(0,t.jsx)(x.A,{className:"h-6 w-6"}):(0,t.jsx)(m.A,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg",children:(0,t.jsx)(h.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent",children:"SupaPos Sales"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Point of Sale System"})]})]}),(0,t.jsxs)("div",{className:"hidden lg:block",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[(()=>{let e=new Date().getHours();return e<12?"Good morning":e<17?"Good afternoon":"Good evening"})(),", ",(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:null==s?void 0:s.first_name}),"! \uD83D\uDC4B"]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Ready to make some sales today?"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"hidden xl:flex items-center space-x-4 mr-4",children:(0,t.jsx)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 rounded-lg"})}),(0,t.jsxs)(o.rI,{children:[(0,t.jsx)(o.ty,{asChild:!0,children:(0,t.jsxs)(n.$,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-slate-100",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 text-slate-600"}),y>0&&(0,t.jsx)(c.E,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-red-500 text-white border-2 border-white",children:y})]})}),(0,t.jsxs)(o.SQ,{align:"end",className:"w-80",children:[(0,t.jsxs)(o.lp,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Notifications"}),(0,t.jsxs)(c.E,{variant:"secondary",className:"text-xs",children:[y," new"]})]}),(0,t.jsx)(o.mB,{}),(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto",children:w.map(e=>(0,t.jsx)(o._2,{className:"flex flex-col items-start p-3 cursor-pointer hover:bg-slate-50",children:(0,t.jsxs)("div",{className:"flex items-start w-full",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm ".concat(e.unread?"font-medium text-slate-900":"text-slate-600"),children:e.message}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:e.time})]}),e.unread&&(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5 ml-2"})]})},e.id))}),(0,t.jsx)(o.mB,{}),(0,t.jsx)(o._2,{className:"text-center justify-center text-blue-600 font-medium hover:bg-blue-50",children:"View all notifications"})]})]}),(0,t.jsxs)(o.rI,{children:[(0,t.jsx)(o.ty,{asChild:!0,children:(0,t.jsxs)(n.$,{variant:"ghost",className:"flex items-center space-x-3 px-3 py-2 h-auto hover:bg-slate-100 rounded-xl",children:[(0,t.jsx)(d.eu,{className:"h-9 w-9 ring-2 ring-blue-100",children:(0,t.jsx)(d.q5,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold text-sm",children:(null==s?void 0:s.first_name)&&(null==s?void 0:s.last_name)?"".concat(s.first_name[0]).concat(s.last_name[0]).toUpperCase():"U"})}),(0,t.jsxs)("div",{className:"hidden md:block text-left",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:(null==s?void 0:s.first_name)||"Sales User"}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(p.A,{className:"h-3 w-3 text-blue-600"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 capitalize",children:(null==s?void 0:s.role)||"Salesperson"})]})]})]})}),(0,t.jsxs)(o.SQ,{align:"end",className:"w-56",children:[(0,t.jsx)(o.lp,{children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:(null==s?void 0:s.first_name)||"Sales User"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:(null==s?void 0:s.email)||"No email"}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[(0,t.jsx)(p.A,{className:"h-3 w-3 text-blue-600"}),(0,t.jsx)(c.E,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:(null==s?void 0:s.role)||"Salesperson"})]})]})}),(0,t.jsx)(o.mB,{}),(0,t.jsxs)(o._2,{className:"hover:bg-slate-50",children:[(0,t.jsx)(f.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"My Profile"})]}),(0,t.jsxs)(o._2,{className:"hover:bg-slate-50",children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Settings"})]}),(0,t.jsxs)(o._2,{className:"hover:bg-slate-50",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Inventory"})]}),(0,t.jsxs)(o._2,{className:"hover:bg-slate-50",children:[(0,t.jsx)(b.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Help & Support"})]}),(0,t.jsx)(o.mB,{}),(0,t.jsxs)(o._2,{onClick:A,className:"text-red-600 focus:text-red-600 focus:bg-red-50 hover:bg-red-50",children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Sign out"})]})]})]})]})]})}var y=l(35695),A=l(57340),S=l(27809),_=l(72713),k=l(57434),C=l(48293),E=l(81586),P=l(48313),O=l(13052);function z(e){let{isOpen:s,onClose:l}=e,a=(0,y.useRouter)(),r=(0,y.usePathname)(),i=[{id:"home",label:"Home",icon:A.A,href:"/sales",description:"Dashboard overview"},{id:"sales",label:"Sales",icon:S.A,href:"/sales/pos",description:"Point of Sale"},{id:"reports",label:"Reports",icon:_.A,href:"/sales/reports",description:"Sales analytics"},{id:"purchase-orders",label:"Purchase Orders",icon:k.A,href:"/sales/purchase-orders",description:"Manage orders"},{id:"inventory",label:"Inventory",icon:g.A,href:"/sales/inventory",description:"Stock management"},{id:"products",label:"Products",icon:C.A,href:"/sales/products",description:"Product catalog"},{id:"invoices",label:"Invoices",icon:E.A,href:"/sales/invoices",description:"Manage invoices"},{id:"credit-notes",label:"Credit Notes",icon:E.A,href:"/sales/credit-notes",description:"Refunds & credits"},{id:"customer",label:"Customers",icon:E.A,href:"/sales/customer",description:"Customers"},{id:"Vendors",label:"Vendors",icon:E.A,href:"/sales/vendor",description:"Vendors"},{id:"utilities",label:"Utilities",icon:P.A,href:"/sales/utilities",description:"Extras & supplies"}];return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("aside",{className:"\n          fixed inset-y-0 left-0 z-10 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n          ".concat(s?"translate-x-0":"-translate-x-full","\n          lg:translate-x-0 lg:static lg:inset-0\n          flex flex-col\n        "),children:(0,t.jsx)("nav",{className:"flex-1 mt-6 px-4 pb-4 overflow-y-auto",children:(0,t.jsx)("div",{className:"space-y-2",children:i.map(e=>{var s;let i=e.icon,n="/sales"===(s=e.href)?"/sales"===r||"/sales/"===r:null==r?void 0:r.startsWith(s);return(0,t.jsxs)("button",{onClick:()=>{var s;return s=e.href,void(a.push(s),l())},className:"\n                    w-full group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200\n                    ".concat(n?"bg-blue-50 text-blue-700 border-r-4 border-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n                  "),children:[(0,t.jsx)(i,{className:"\n                    w-5 h-5 mr-3 transition-colors\n                    ".concat(n?"text-blue-600":"text-gray-400 group-hover:text-gray-600","\n                  ")}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("div",{className:"font-medium",children:e.label}),(0,t.jsx)("div",{className:"\n                      text-xs mt-0.5 transition-colors\n                      ".concat(n?"text-blue-600":"text-gray-400 group-hover:text-gray-500","\n                    "),children:e.description})]}),n&&(0,t.jsx)(O.A,{className:"w-4 h-4 text-blue-600"})]},e.id)})})})})})}function B(e){let{children:s}=e,[l,n]=(0,a.useState)(!0),[c,o]=(0,a.useState)(!1),{user:d}=(0,N.Z)();return((0,a.useEffect)(()=>{let e=()=>{window.innerWidth<1024?n(!1):n(!0)};return e(),window.addEventListener("resize",e),o(!0),()=>window.removeEventListener("resize",e)},[]),c)?(0,t.jsx)(i.A,{allowedRoles:["salesperson"],publicRoutes:["/login","/forgot-password"],children:(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[(0,t.jsx)(w,{user:d,onMenuClick:()=>n(!l),isSidebarOpen:l}),(0,t.jsxs)("div",{className:"flex flex-1 relative",children:[(0,t.jsx)(z,{isOpen:l,onClose:()=>n(!1)}),l&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300",onClick:()=>n(!1),"aria-hidden":"true"}),(0,t.jsx)("main",{className:"\n              flex-1 flex flex-col\n              transition-all duration-300 ease-in-out\n            \n            ",children:(0,t.jsx)("div",{className:"flex-1 pt-1",children:(0,t.jsx)("div",{className:"h-full px-4 sm:px-2 lg:px-4 py-6",children:(0,t.jsx)("div",{className:"w-full mx-auto h-full",children:(0,t.jsx)("div",{className:"min-h-[calc(100vh-8rem)]",children:s})})})})})]}),(0,t.jsx)(r.N9,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",className:"mt-20",toastClassName:"shadow-xl border border-gray-200 rounded-lg"})]})}):null}}},e=>{e.O(0,[4797,6586,4277,8543,4783,8787,6489,1931,1778,5160,8441,5964,7358],()=>e(e.s=55174)),_N_E=e.O()}]);