exports.id=3168,exports.ids=[3168],exports.modules={4535:(a,b,c)=>{Promise.resolve().then(c.bind(c,82366))},15002:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(61369);(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuthContext() from the server but useAuthContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/lib/context/auth.tsx","useAuthContext");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/lib/context/auth.tsx","AuthProvider")},19256:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},23307:(a,b,c)=>{"use strict";c.d(b,{A:()=>k,O:()=>j});var d=c(60687),e=c(43210),f=c(16189);c(93853);var g=c(74868),h=c(99891),i=c(43125);let j={userData:null,isLoaded:!1,setUserData:function(a){this.userData=a,this.isLoaded=!0},clearUserData:function(){this.userData=null,this.isLoaded=!1},getUserRole:function(){return this.userData?.role||null}};function k({children:a,publicRoutes:b=["/login","/forgot-password","/contact-support"],allowedRoles:c=["admin","supervisor","salesperson"]}){let{isLoggedIn:j,user:k,loading:l,authChecked:m}=(0,g.Z)();(0,f.useRouter)(),(0,f.usePathname)();let[n,o]=(0,e.useState)(!1);return!m||l?(0,d.jsx)("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,d.jsxs)("div",{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:(0,d.jsx)(h.A,{className:"h-8 w-8 text-white"})}),(0,d.jsx)(i.A,{className:"h-8 w-8 text-blue-600 animate-spin mx-auto"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-700 font-medium",children:"SupaPos"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:m?"Checking permissions...":"Initializing..."})]})]})}):n?(0,d.jsx)(d.Fragment,{children:a}):null}},24934:(a,b,c)=>{"use strict";c.d(b,{$:()=>i,r:()=>h});var d=c(60687);c(43210);var e=c(8730),f=c(24224),g=c(96241);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},28984:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},35302:(a,b,c)=>{Promise.resolve().then(c.bind(c,74868))},37140:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>t});var d=c(60687),e=c(43210),f=c(16189),g=c(24934),h=c(55192),i=c(41862),j=c(43649),k=c(38038),l=c(46001),m=c(98712),n=c(56748),o=c(32192),p=c(28559),q=c(99270),r=c(74868),s=c(23307);function t(){let a=(0,f.useRouter)(),{user:b,isLoggedIn:c,loading:t}=(0,r.Z)(),[u,v]=(0,e.useState)(10),[w,x]=(0,e.useState)(!1),y=b||s.O.userData,z=c||!!s.O.userData,A=()=>{if(!y)return"/login";switch(y.role?.toLowerCase()){case"admin":case"manager":return"/admin";default:return"/sales"}},B=b=>{x(!0),a.push(b)};return t?(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center p-4",children:(0,d.jsx)(h.Zp,{className:"w-full max-w-md",children:(0,d.jsxs)(h.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,d.jsx)(i.A,{className:"h-8 w-8 animate-spin text-blue-600 mb-4"}),(0,d.jsx)("p",{className:"text-slate-600",children:"Checking authentication..."})]})})}):(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,d.jsxs)(h.Zp,{className:"shadow-2xl border-0 bg-white/80 backdrop-blur-sm mb-6",children:[(0,d.jsxs)(h.aR,{className:"text-center pb-4",children:[(0,d.jsxs)("div",{className:"mx-auto mb-6 relative",children:[(0,d.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center shadow-lg",children:(0,d.jsx)(j.A,{className:"h-12 w-12 text-white"})}),(0,d.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-yellow-800 font-bold text-sm",children:"!"})})]}),(0,d.jsx)(h.ZB,{className:"text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent mb-2",children:"404 - Page Not Found"}),(0,d.jsx)(h.BT,{className:"text-lg text-slate-600",children:"Oops! The page you're looking for doesn't exist or has been moved."})]}),(0,d.jsxs)(h.Wu,{className:"text-center",children:[(0,d.jsx)("div",{className:"mb-8 p-4 bg-slate-50 rounded-xl border",children:z&&y?(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full",children:"admin"===y.role?(0,d.jsx)(k.A,{className:"h-6 w-6 text-white"}):(0,d.jsx)(l.A,{className:"h-6 w-6 text-white"})}),(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsxs)("p",{className:"font-semibold text-slate-900",children:["Welcome back, ",y.first_name,"!"]}),(0,d.jsxs)("p",{className:"text-sm text-slate-600 capitalize",children:[y.role," • Redirecting to your dashboard"]})]})]}):(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full",children:(0,d.jsx)(m.A,{className:"h-6 w-6 text-white"})}),(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsx)("p",{className:"font-semibold text-slate-900",children:"Not signed in"}),(0,d.jsx)("p",{className:"text-sm text-slate-600",children:"Redirecting to login page"})]})]})}),(0,d.jsxs)("div",{className:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,d.jsx)(n.A,{className:"h-5 w-5 text-blue-600"}),(0,d.jsx)("span",{className:"font-semibold text-blue-900",children:"Auto-redirecting in"})]}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[u,"s"]}),(0,d.jsxs)("p",{className:"text-sm text-blue-700",children:["Taking you to ",(()=>{if(!y)return"Login";switch(y.role?.toLowerCase()){case"admin":case"manager":return"Admin Dashboard";case"salesperson":return"Sales Dashboard";default:return"Dashboard"}})()]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,d.jsxs)(g.$,{onClick:()=>B(A()),disabled:w,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-6",children:[w?(0,d.jsx)(i.A,{className:"h-4 w-4 mr-2 animate-spin"}):z?(0,d.jsx)(o.A,{className:"h-4 w-4 mr-2"}):(0,d.jsx)(m.A,{className:"h-4 w-4 mr-2"}),z?"Go to Dashboard":"Sign In"]}),(0,d.jsxs)(g.$,{onClick:()=>{window.history.length>1?a.back():B(A())},variant:"outline",className:"font-semibold py-3 px-6 border-slate-300 hover:bg-slate-50",children:[(0,d.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Go Back"]}),(0,d.jsxs)(g.$,{onClick:()=>B("/"),variant:"outline",className:"font-semibold py-3 px-6 border-slate-300 hover:bg-slate-50",children:[(0,d.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Search"]})]})]})]}),(0,d.jsx)("div",{className:"text-center text-sm text-slate-500",children:(0,d.jsx)("p",{children:"SupaPos \xa9 2025 • Business Management Software"})})]})})}},41327:(a,b,c)=>{Promise.resolve().then(c.bind(c,37140))},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},55192:(a,b,c)=>{"use strict";c.d(b,{BT:()=>i,Wu:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(60687);c(43210);var e=c(96241);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},58014:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(37413),e=c(56389),f=c.n(e),g=c(51189),h=c.n(g);c(82704);var i=c(15002);let j={title:"SupaPos - Business Management Software",description:"Business Management Software"};function k({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(i.AuthProvider,{children:a})})})}},74868:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>k,Z:()=>j});var d=c(60687),e=c(96718),f=c(16189),g=c(43210),h=c(93853);let i=(0,g.createContext)({user:null,isLoggedIn:!1,loading:!0,authChecked:!1,serverUnreachable:!1,maintenanceMode:!1,maintenanceDetails:null,login:async()=>({message:"",isAuthenticated:!1}),logout:async()=>{},refreshUser:async()=>{},retryConnection:async()=>({message:"",isAuthenticated:!1}),navigateToRoleDashboard:()=>{},getRoleBasedRedirectUrl:()=>"/"}),j=()=>(0,g.useContext)(i);function k({children:a}){let{user:b,isAuthenticated:c,isLoading:j,authChecked:k,serverUnreachable:l,maintenanceMode:m,maintenanceDetails:n,login:o,logout:p,fetchUser:q,retryConnection:r,getRoleBasedRedirectUrl:s}=(0,e.As)(),t=(0,f.useRouter)(),u=(0,g.useRef)(!0),v=async()=>{if(u.current)try{await p(),u.current&&h.oR.success("Logged out successfully")}catch(a){u.current&&h.oR.error("Error during logout")}},w=async()=>{if(u.current&&c)try{await q()}catch(a){u.current&&h.oR.error("Error refreshing user data")}},x=a=>{switch(a.toLowerCase()){case"admin":return"/admin";case"supervisor":return"/supervisor";default:return"/sales"}},y=async()=>{try{return await r()}catch(a){return u.current&&h.oR.error("Failed to reconnect to server"),{message:"Connection failed",isAuthenticated:!1,serverError:!0}}};return(0,d.jsx)(i.Provider,{value:{user:b,isLoggedIn:c,loading:j,authChecked:k,serverUnreachable:l,maintenanceMode:m,maintenanceDetails:n,login:o,logout:v,refreshUser:w,retryConnection:y,navigateToRoleDashboard:()=>{if(u.current)if(b?.role){let a=x(b.role);t.push(a)}else t.push("/login")},getRoleBasedRedirectUrl:x},children:a})}},82366:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/not-found.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/not-found.tsx","default")},82704:()=>{},95134:(a,b,c)=>{Promise.resolve().then(c.bind(c,15002))},96241:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(49384),e=c(82348);function f(...a){return(0,e.QP)((0,d.$)(a))}}};