exports.id=8313,exports.ids=[8313],exports.modules={16861:(a,b,c)=>{Promise.resolve().then(c.bind(c,97786))},35421:(a,b,c)=>{Promise.resolve().then(c.bind(c,87268))},55629:(a,b,c)=>{"use strict";c.d(b,{SQ:()=>i,_2:()=>j,lp:()=>k,mB:()=>l,rI:()=>g,ty:()=>h});var d=c(60687);c(43210);var e=c(26312),f=c(96241);function g({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dropdown-menu",...a})}function h({...a}){return(0,d.jsx)(e.l9,{"data-slot":"dropdown-menu-trigger",...a})}function i({className:a,sideOffset:b=4,...c}){return(0,d.jsx)(e.ZL,{children:(0,d.jsx)(e.UC,{"data-slot":"dropdown-menu-content",sideOffset:b,className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...c})})}function j({className:a,inset:b,variant:c="default",...g}){return(0,d.jsx)(e.q7,{"data-slot":"dropdown-menu-item","data-inset":b,"data-variant":c,className:(0,f.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...g})}function k({className:a,inset:b,...c}){return(0,d.jsx)(e.JU,{"data-slot":"dropdown-menu-label","data-inset":b,className:(0,f.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",a),...c})}function l({className:a,...b}){return(0,d.jsx)(e.wv,{"data-slot":"dropdown-menu-separator",className:(0,f.cn)("bg-border -mx-1 my-1 h-px",a),...b})}},59821:(a,b,c)=>{"use strict";c.d(b,{E:()=>i});var d=c(60687);c(43210);var e=c(8730),f=c(24224),g=c(96241);let h=(0,f.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:a,variant:b,asChild:c=!1,...f}){let i=c?e.DX:"span";return(0,d.jsx)(i,{"data-slot":"badge",className:(0,g.cn)(h({variant:b}),a),...f})}},68988:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(60687);c(43210);var e=c(96241);function f({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}},70373:(a,b,c)=>{"use strict";c.d(b,{eu:()=>g,q5:()=>h});var d=c(60687);c(43210);var e=c(11096),f=c(96241);function g({className:a,...b}){return(0,d.jsx)(e.bL,{"data-slot":"avatar",className:(0,f.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...b})}function h({className:a,...b}){return(0,d.jsx)(e.H4,{"data-slot":"avatar-fallback",className:(0,f.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...b})}},87268:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>M});var d=c(60687),e=c(43210),f=c(93853);c(25806);var g=c(23307),h=c(24934),i=c(68988),j=c(59821),k=c(55629),l=c(70373),m=c(12941),n=c(56981),o=c(99270),p=c(97051),q=c(99891),r=c(41312),s=c(84027),t=c(98971),u=c(44709),v=c(40083),w=c(74868);function x({onMenuClick:a,isSidebarOpen:b,user:c}){let{logout:f}=(0,w.Z)(),[g,x]=(0,e.useState)(""),[y]=(0,e.useState)([{id:1,message:"Low stock alert: Paracetamol 500mg",time:"5m ago",unread:!0},{id:2,message:"New user registered: Jane Smith",time:"1h ago",unread:!0},{id:3,message:"Daily sales report ready",time:"2h ago",unread:!1},{id:4,message:"Monthly inventory check completed",time:"3h ago",unread:!1}]),z=y.filter(a=>a.unread).length,A=async()=>{try{await f()}catch(a){}},B=a=>{switch(a?.toLowerCase()){case"admin":return"bg-red-100 text-red-700";case"salesperson":return"bg-blue-100 text-blue-700";case"manager":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return(0,d.jsxs)("header",{className:` ${b?"lg:ml-64 ml-40":"lg:ml-64 ml-0"} bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 lg:px-6 sticky top-0 z-30 shadow-sm`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)(h.$,{variant:"ghost",size:"sm",onClick:a,className:"p-2 hover:bg-gray-100",children:(0,d.jsx)(m.A,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{className:"flex items-center space-x-3 lg:hidden",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 rounded-lg",children:(0,d.jsx)(n.A,{className:"h-5 w-5 text-white"})}),(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"SupaPos"})})]}),(0,d.jsx)("form",{onSubmit:a=>{a.preventDefault(),g.trim()&&console.log("Searching for:",g)},className:"hidden md:flex",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,d.jsx)(i.p,{type:"text",placeholder:"Search users, products, shops...",value:g,onChange:a=>x(a.target.value),className:"pl-10 w-64 lg:w-80 h-9 bg-gray-50 border-gray-200 focus:bg-white"})]})})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[(0,d.jsx)(h.$,{variant:"ghost",size:"sm",className:"md:hidden p-2",children:(0,d.jsx)(o.A,{className:"h-5 w-5"})}),(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-gray-100",children:[(0,d.jsx)(p.A,{className:"h-5 w-5"}),z>0&&(0,d.jsx)(j.E,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-red-500 text-white border-2 border-white",children:z})]})}),(0,d.jsxs)(k.SQ,{align:"end",className:"w-80",children:[(0,d.jsxs)(k.lp,{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-semibold",children:"Notifications"}),(0,d.jsxs)(j.E,{variant:"secondary",className:"text-xs",children:[z," new"]})]}),(0,d.jsx)(k.mB,{}),(0,d.jsx)("div",{className:"max-h-64 overflow-y-auto",children:y.map(a=>(0,d.jsx)(k._2,{className:"flex flex-col items-start p-3 cursor-pointer hover:bg-gray-50",children:(0,d.jsxs)("div",{className:"flex items-start w-full",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:`text-sm ${a.unread?"font-medium text-gray-900":"text-gray-600"}`,children:a.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.time})]}),a.unread&&(0,d.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5 ml-2"})]})},a.id))}),(0,d.jsx)(k.mB,{}),(0,d.jsx)(k._2,{className:"text-center justify-center text-blue-600 font-medium hover:bg-blue-50",children:"View all notifications"})]})]}),(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:"ghost",className:"flex items-center space-x-2 px-2 py-1 h-auto hover:bg-gray-100",children:[(0,d.jsx)(l.eu,{className:"h-8 w-8",children:(0,d.jsx)(l.q5,{className:`text-sm font-medium ${B(c?.role||"")}`,children:c?.first_name&&c?.last_name?`${c.first_name[0]}${c.last_name[0]}`.toUpperCase():"U"})}),(0,d.jsxs)("div",{className:"hidden lg:block text-left",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c?.first_name||"User"}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[c?.role==="admin"&&(0,d.jsx)(q.A,{className:"h-3 w-3 text-red-600"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:c?.role||"Unknown"})]})]})]})}),(0,d.jsxs)(k.SQ,{align:"end",className:"w-56",children:[(0,d.jsx)(k.lp,{children:(0,d.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c?.first_name||"User"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:c?.email||"No email"}),(0,d.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[c?.role==="admin"&&(0,d.jsx)(q.A,{className:"h-3 w-3 text-red-600"}),(0,d.jsx)(j.E,{variant:"outline",className:`text-xs ${B(c?.role||"")}`,children:c?.role||"Unknown"})]})]})}),(0,d.jsx)(k.mB,{}),(0,d.jsxs)(k._2,{className:"hover:bg-gray-50",children:[(0,d.jsx)(r.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Profile"})]}),(0,d.jsxs)(k._2,{className:"hover:bg-gray-50",children:[(0,d.jsx)(s.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Settings"})]}),(0,d.jsxs)(k._2,{className:"hover:bg-gray-50",children:[(0,d.jsx)(t.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Appearance"})]}),(0,d.jsxs)(k._2,{className:"hover:bg-gray-50",children:[(0,d.jsx)(u.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Help & Support"})]}),(0,d.jsx)(k.mB,{}),(0,d.jsxs)(k._2,{onClick:A,className:"text-red-600 focus:text-red-600 focus:bg-red-50 hover:bg-red-50",children:[(0,d.jsx)(v.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Sign out"})]})]})]})]})]})}var y=c(16189),z=c(85814),A=c.n(z),B=c(96241),C=c(49625),D=c(46001),E=c(19080),F=c(28561),G=c(53411),H=c(78272),I=c(14952),J=c(11860);let K=[{title:"Dashboard",icon:C.A,href:"/admin"},{title:"User Management",icon:r.A,children:[{title:"All Users",icon:r.A,href:"/admin/users"},{title:"Add User",icon:r.A,href:"/admin/users/add"}]},{title:"Shops",icon:D.A,children:[{title:"All Shops",icon:D.A,href:"/admin/shops"},{title:"Shop Assignment",icon:D.A,href:"/admin/shops/assign"},{title:"Add Shop",icon:D.A,href:"/admin/shops/add"}]},{title:"Products",icon:E.A,href:"/admin/products",children:[{title:"All Products",icon:E.A,href:"/admin/products"}]},{title:"Inventory",icon:n.A,badge:"12",href:"/admin/inventory",children:[{title:"All Inventory",icon:n.A,href:"/admin/inventory"}]},{title:"Sales",icon:F.A,href:"/admin/sales",children:[{title:"Sales History",icon:F.A,href:"/admin/sales"}]},{title:"Reports",icon:G.A,children:[{title:"Sales Reports",icon:G.A,href:"/admin/reports/sales"},{title:"Inventory Reports",icon:G.A,href:"/admin/reports/inventory"},{title:"User Reports",icon:G.A,href:"/admin/reports/users"}]},{title:"Settings",icon:s.A,href:"/admin/settings"}];function L({isOpen:a,onClose:b}){let c=(0,y.usePathname)(),[f,g]=(0,e.useState)(["User Management"]),i=(a,e=0)=>{let k=a.children&&a.children.length>0,l=f.includes(a.title),m=!!a.href&&c===a.href,n=!!k&&a.children.some(a=>a.href&&c===a.href);if(k)return(0,d.jsxs)("div",{children:[(0,d.jsxs)(h.$,{variant:"ghost",onClick:()=>{var b;return b=a.title,void g(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:(0,B.cn)("w-full justify-start font-normal h-10 px-3",e>0&&"ml-4 w-[calc(100%-1rem)]",(n||l)&&"bg-blue-50 text-blue-700"),children:[(0,d.jsx)(a.icon,{className:"h-4 w-4 mr-3 flex-shrink-0"}),(0,d.jsx)("span",{className:"flex-1 text-left",children:a.title}),a.badge&&(0,d.jsx)(j.E,{variant:"destructive",className:"ml-2 h-5 text-xs",children:a.badge}),l?(0,d.jsx)(H.A,{className:"h-4 w-4 ml-2 flex-shrink-0"}):(0,d.jsx)(I.A,{className:"h-4 w-4 ml-2 flex-shrink-0"})]}),l&&(0,d.jsx)("div",{className:"ml-2 space-y-1",children:a.children.map(a=>i(a,e+1))})]},a.title);let o=(0,d.jsxs)(h.$,{variant:"ghost",className:(0,B.cn)("w-full justify-start font-normal h-10 px-3",e>0&&"ml-4 w-[calc(100%-1rem)]",m&&"bg-blue-100 text-blue-700 font-medium"),children:[(0,d.jsx)(a.icon,{className:"h-4 w-4 mr-3 flex-shrink-0"}),(0,d.jsx)("span",{className:"flex-1 text-left",children:a.title}),a.badge&&(0,d.jsx)(j.E,{variant:"destructive",className:"ml-2 h-5 text-xs",children:a.badge})]});return(0,d.jsx)("div",{children:a.href?(0,d.jsx)(A(),{href:a.href,onClick:b,children:o}):o},a.title)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:(0,B.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out lg:translate-x-0",a?"translate-x-0":"-translate-x-full"),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"bg-blue-600 p-2 rounded-lg",children:(0,d.jsx)(n.A,{className:"h-6 w-6 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"SupaPos"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),(0,d.jsx)(h.$,{variant:"ghost",size:"sm",onClick:b,className:"lg:hidden",children:(0,d.jsx)(J.A,{className:"h-5 w-5"})})]}),(0,d.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:K.map(a=>i(a))}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,d.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:[(0,d.jsx)("p",{children:"SupaPos v1.0"}),(0,d.jsx)("p",{children:"\xa9 2025 All rights reserved"})]})})]})})}function M({children:a}){let[b,c]=(0,e.useState)(!0),[h,i]=(0,e.useState)(!1),{user:j}=(0,w.Z)();return h?(0,d.jsx)(g.A,{allowedRoles:["admin"],publicRoutes:["/login","/forgot-password"],children:(0,d.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,d.jsx)(x,{onMenuClick:()=>c(!b),isSidebarOpen:b,user:j}),(0,d.jsxs)("div",{className:"flex flex-1 relative",children:[(0,d.jsx)(L,{isOpen:b,onClose:()=>c(!1)}),b&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300",onClick:()=>c(!1),"aria-hidden":"true"}),(0,d.jsx)("main",{className:`
              flex-1 flex flex-col
              transition-all duration-300 ease-in-out
              ${b?"lg:ml-64 ml-40":"lg:ml-64 ml-0"}
            `,children:(0,d.jsx)("div",{className:"flex-1 pt-1",children:(0,d.jsx)("div",{className:"h-full px-4 sm:px-2 lg:px-4 py-6",children:(0,d.jsx)("div",{className:"w-full mx-auto h-full",children:(0,d.jsx)("div",{className:"min-h-[calc(100vh-8rem)]",children:a})})})})})]}),(0,d.jsx)(f.N9,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",className:"mt-20",toastClassName:"shadow-xl border border-gray-200 rounded-lg"})]})}):null}},97786:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/admin/layout.tsx","default")}};