"use strict";exports.id=2777,exports.ids=[2777],exports.modules={3018:(a,b,c)=>{c.d(b,{Fc:()=>h,TN:()=>i});var d=c(60687);c(43210);var e=c(24224),f=c(96241);let g=(0,e.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,f.cn)(g({variant:b}),a),...c})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"alert-description",className:(0,f.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...b})}},5336:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8819:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10022:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},39390:(a,b,c)=>{c.d(b,{J:()=>g});var d=c(60687);c(43210);var e=c(78148),f=c(96241);function g({className:a,...b}){return(0,d.jsx)(e.b,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},46324:(a,b,c)=>{c.d(b,{f:()=>s});var d=c(60687),e=c(43210),f=c(65048),g=c(24934),h=c(68988),i=c(39390),j=c(3018),k=c(55192),l=c(93853),m=c(11860),n=c(43649),o=c(5336),p=c(41862),q=c(8819);let r={name:"",generic_name:"",description:""};function s({isOpen:a,onClose:b,product:c,onSuccess:s}){let[t,u]=(0,e.useState)(r),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(""),[z,A]=(0,e.useState)(""),B=(a,b)=>{u(c=>({...c,[a]:b})),x&&y(""),z&&A("")},C=async a=>{if(a.preventDefault(),t.name.trim()?t.generic_name.trim()?!!t.description.trim()||(y("Description is required"),!1):(y("Generic name is required"),!1):(y("Product name is required"),!1)){w(!0),y(""),A("");try{let a={name:t.name,generic_name:t.generic_name,description:t.description};c?(await (0,f.vc)(c.id,a),l.oR.success("Product updated successfully!"),A("Product updated successfully!")):(await (0,f.WY)(a),l.oR.success("Product created successfully!"),A("Product created successfully!")),s(),u(r),b()}catch(b){let a=b.detail||b.message||"An error occurred";y(a),l.oR.error(a)}finally{w(!1)}}};return a?(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex justify-end pointer-events-none",children:(0,d.jsxs)("div",{className:"bg-white w-full max-w-3xl h-full overflow-y-auto shadow-2xl pointer-events-auto",children:[(0,d.jsx)("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Edit Product":"Add New Product"}),(0,d.jsx)("p",{className:"text-gray-600 mt-1",children:c?"Update product information":"Create a new product"})]}),(0,d.jsx)(g.$,{variant:"ghost",size:"icon",onClick:b,className:"h-8 w-8",children:(0,d.jsx)(m.A,{className:"h-4 w-4"})})]})}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[x&&(0,d.jsxs)(j.Fc,{className:"border-red-200 bg-red-50",children:[(0,d.jsx)(n.A,{className:"h-4 w-4 text-red-600"}),(0,d.jsx)(j.TN,{className:"text-red-800",children:x})]}),z&&(0,d.jsxs)(j.Fc,{className:"border-green-200 bg-green-50",children:[(0,d.jsx)(o.A,{className:"h-4 w-4 text-green-600"}),(0,d.jsx)(j.TN,{className:"text-green-800",children:z})]}),(0,d.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,d.jsxs)(k.Zp,{className:"border-gray-200 shadow-sm",children:[(0,d.jsxs)(k.aR,{className:"bg-gray-50/50",children:[(0,d.jsx)(k.ZB,{className:"text-lg font-semibold text-gray-800",children:"Product Information"}),(0,d.jsx)(k.BT,{className:"text-gray-600",children:"Enter the core details for the product"})]}),(0,d.jsx)(k.Wu,{className:"pt-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Product Name *"}),(0,d.jsx)(h.p,{id:"name",value:t.name,onChange:a=>B("name",a.target.value),placeholder:"Enter product name",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"The commercial name of the product"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"generic_name",className:"text-sm font-medium text-gray-700",children:"Generic Name *"}),(0,d.jsx)(h.p,{id:"generic_name",value:t.generic_name,onChange:a=>B("generic_name",a.target.value),placeholder:"Enter generic name",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"The scientific or common name of the active ingredient"})]}),(0,d.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,d.jsx)(i.J,{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:"Description *"}),(0,d.jsx)("textarea",{id:"description",value:t.description,onChange:a=>B("description",a.target.value),placeholder:"Enter detailed product description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,required:!0}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Detailed description of the product"})]})]})})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,d.jsx)(g.$,{type:"button",variant:"outline",onClick:b,disabled:v,className:"min-w-[100px]",children:"Cancel"}),(0,d.jsx)(g.$,{type:"submit",disabled:v,className:"min-w-[120px] bg-blue-600 hover:bg-blue-700",children:v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.A,{className:"mr-2 h-4 w-4"}),c?"Update Product":"Create Product"]})})]})]})]})]})}):null}},47033:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},65048:(a,b,c)=>{c.d(b,{DD:()=>i,WY:()=>g,d$:()=>f,vc:()=>h}),c(36784);var d=c(96718);let e="https://supa.sirnkunja.co.ke/api/products/",f=async a=>{try{let b=new URLSearchParams;a?.page&&b.append("page",a.page),a?.search&&b.append("search",a.search),a?.category&&b.append("category",a.category),a?.is_active&&b.append("is_active",a.is_active);let c=b.toString()?`${e}?${b.toString()}`:e;return(await d.default.get(c)).data}catch(a){throw Error("Failed to fetch products.")}},g=async a=>{try{return(await d.default.post(e,a)).data}catch(a){throw Error("Failed to create product.")}},h=async(a,b)=>{try{return(await d.default.put(`${e}${a}/`,b)).data}catch(a){throw Error("Failed to update product.")}},i=async a=>{try{return(await d.default.delete(`${e}${a}/`)).data}catch(a){throw Error("Failed to delete product.")}}},78122:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},78148:(a,b,c)=>{c.d(b,{b:()=>h});var d=c(43210),e=c(14163),f=c(60687),g=d.forwardRef((a,b)=>(0,f.jsx)(e.sG.label,{...a,ref:b,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));g.displayName="Label";var h=g},96474:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};