(()=>{var a={};a.id=7366,a.ids=[7366],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5748:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},7965:(a,b,c)=>{"use strict";c.d(b,{w:()=>k});var d=c(60687),e=c(43210),f=c(14163),g="horizontal",h=["horizontal","vertical"],i=e.forwardRef((a,b)=>{var c;let{decorative:e,orientation:i=g,...j}=a,k=(c=i,h.includes(c))?i:g;return(0,d.jsx)(f.sG.div,{"data-orientation":k,...e?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:b})});i.displayName="Separator";var j=c(96241);function k({className:a,orientation:b="horizontal",decorative:c=!0,...e}){return(0,d.jsx)(i,{"data-slot":"separator",decorative:c,orientation:b,className:(0,j.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}},10022:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:a=>{"use strict";a.exports=require("assert")},13861:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},15574:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19352:(a,b,c)=>{"use strict";var d=Object.create,e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,j=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let h of g(b))i.call(a,h)||h===c||e(a,h,{get:()=>b[h],enumerable:!(d=f(b,h))||d.enumerable});return a},k=(a,b,c)=>(c=null!=a?d(h(a)):{},j(!b&&a&&a.__esModule?c:e(c,"default",{value:a,enumerable:!0}),a)),l={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(l,{Bounce:()=>Z,Flip:()=>aa,Icons:()=>W,Slide:()=>$,ToastContainer:()=>ac,Zoom:()=>_,collapseToast:()=>r,cssTransition:()=>s,toast:()=>O}),a.exports=j(e({},"__esModule",{value:!0}),l),!function(a){if(!a||"undefined"==typeof document)return;let b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var m=c(43210),n=a=>"number"==typeof a&&!isNaN(a),o=a=>"string"==typeof a||"function"==typeof a?a:null,p=a=>(0,m.isValidElement)(a)||"string"==typeof a||"function"==typeof a||n(a),q=k(c(43210));function r(a,b,c=300){let{scrollHeight:d,style:e}=a;requestAnimationFrame(()=>{e.minHeight="initial",e.height=d+"px",e.transition=`all ${c}ms`,requestAnimationFrame(()=>{e.height="0",e.padding="0",e.margin="0",setTimeout(b,c)})})}function s({enter:a,exit:b,appendPosition:c=!1,collapse:d=!0,collapseDuration:e=300}){return function({children:f,position:g,preventExitTransition:h,done:i,nodeRef:j,isIn:k,playToast:l}){let m=c?`${a}--${g}`:a,n=c?`${b}--${g}`:b,o=(0,q.useRef)(0);return(0,q.useLayoutEffect)(()=>{let a=j.current,b=m.split(" "),c=d=>{d.target===j.current&&(l(),a.removeEventListener("animationend",c),a.removeEventListener("animationcancel",c),0===o.current&&"animationcancel"!==d.type&&a.classList.remove(...b))};a.classList.add(...b),a.addEventListener("animationend",c),a.addEventListener("animationcancel",c)},[]),(0,q.useEffect)(()=>{let a=j.current,b=()=>{a.removeEventListener("animationend",b),d?r(a,i,e):i()};k||(h?b():(o.current=1,a.className+=` ${n}`,a.addEventListener("animationend",b)))},[k]),q.default.createElement(q.default.Fragment,null,f)}}var t=c(43210);function u(a,b){return{content:v(a.content,a.props),containerId:a.props.containerId,id:a.props.toastId,theme:a.props.theme,type:a.props.type,data:a.props.data||{},isLoading:a.props.isLoading,icon:a.props.icon,reason:a.removalReason,status:b}}function v(a,b,c=!1){return(0,t.isValidElement)(a)&&"string"!=typeof a.type?(0,t.cloneElement)(a,{closeToast:b.closeToast,toastProps:b,data:b.data,isPaused:c}):"function"==typeof a?a({closeToast:b.closeToast,toastProps:b,data:b.data,isPaused:c}):a}var w=k(c(43210)),x=k(c(43210)),y=k(c(93499));function z({delay:a,isRunning:b,closeToast:c,type:d="default",hide:e,className:f,controlledProgress:g,progress:h,rtl:i,isIn:j,theme:k}){let l=e||g&&0===h,m={animationDuration:`${a}ms`,animationPlayState:b?"running":"paused"};g&&(m.transform=`scaleX(${h})`);let n=(0,y.default)("Toastify__progress-bar",g?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${k}`,`Toastify__progress-bar--${d}`,{"Toastify__progress-bar--rtl":i}),o="function"==typeof f?f({rtl:i,type:d,defaultClassName:n}):(0,y.default)(n,f);return x.default.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":l},x.default.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${k} Toastify__progress-bar--${d}`}),x.default.createElement("div",{role:"progressbar","aria-hidden":l?"true":"false","aria-label":"notification timer",className:o,style:m,...{[g&&h>=1?"onTransitionEnd":"onAnimationEnd"]:g&&h<1?null:()=>{j&&c()}}}))}var A=k(c(93499)),B=k(c(43210)),C=1,D=()=>`${C++}`,E=new Map,F=[],G=new Set,H=a=>G.forEach(b=>b(a));function I(a,b){var c;if(b)return!!(null!=(c=E.get(b))&&c.isToastActive(a));let d=!1;return E.forEach(b=>{b.isToastActive(a)&&(d=!0)}),d}function J(a,b){p(a)&&(E.size>0||F.push({content:a,options:b}),E.forEach(c=>{c.buildToast(a,b)}))}function K(a,b){E.forEach(c=>{null!=b&&null!=b&&b.containerId&&(null==b?void 0:b.containerId)!==c.id||c.toggle(a,null==b?void 0:b.id)})}function L(a,b){return J(a,b),b.toastId}function M(a,b){var c;return{...b,type:b&&b.type||a,toastId:(c=b)&&("string"==typeof c.toastId||n(c.toastId))?c.toastId:D()}}function N(a){return(b,c)=>L(b,M(a,c))}function O(a,b){return L(a,M("default",b))}O.loading=(a,b)=>L(a,M("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...b})),O.promise=function(a,{pending:b,error:c,success:d},e){let f;b&&(f="string"==typeof b?O.loading(b,e):O.loading(b.render,{...e,...b}));let g={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(a,b,c)=>{if(null==b)return void O.dismiss(f);let d={type:a,...g,...e,data:c},h="string"==typeof b?{render:b}:b;return f?O.update(f,{...d,...h}):O(h.render,{...d,...h}),c},i="function"==typeof a?a():a;return i.then(a=>h("success",d,a)).catch(a=>h("error",c,a)),i},O.success=N("success"),O.info=N("info"),O.error=N("error"),O.warning=N("warning"),O.warn=O.warning,O.dark=(a,b)=>L(a,M("default",{theme:"dark",...b})),O.dismiss=function(a){!function(a){let b;if(!(E.size>0)){F=F.filter(b=>null!=a&&b.options.toastId!==a);return}if(null==a||"string"==typeof(b=a)||n(b))E.forEach(b=>{b.removeToast(a)});else if(a&&("containerId"in a||"id"in a)){let b=E.get(a.containerId);b?b.removeToast(a.id):E.forEach(b=>{b.removeToast(a.id)})}}(a)},O.clearWaitingQueue=(a={})=>{E.forEach(b=>{b.props.limit&&(!a.containerId||b.id===a.containerId)&&b.clearQueue()})},O.isActive=I,O.update=(a,b={})=>{let c=((a,{containerId:b})=>{var c;return null==(c=E.get(b||1))?void 0:c.toasts.get(a)})(a,b);if(c){let{props:d,content:e}=c,f={delay:100,...d,...b,toastId:b.toastId||a,updateId:D()};f.toastId!==a&&(f.staleId=a);let g=f.render||e;delete f.render,L(g,f)}},O.done=a=>{O.update(a,{progress:1})},O.onChange=function(a){return G.add(a),()=>{G.delete(a)}},O.play=a=>K(!0,a),O.pause=a=>K(!1,a);var P=c(43210),Q=c(43210),R=c(43210).useEffect,S=k(c(93499)),T=k(c(43210)),U=k(c(43210)),V=({theme:a,type:b,isLoading:c,...d})=>U.default.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===a?"currentColor":`var(--toastify-icon-color-${b})`,...d}),W={info:function(a){return U.default.createElement(V,{...a},U.default.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(a){return U.default.createElement(V,{...a},U.default.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(a){return U.default.createElement(V,{...a},U.default.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(a){return U.default.createElement(V,{...a},U.default.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return U.default.createElement("div",{className:"Toastify__spinner"})}},X=a=>{let{isRunning:b,preventExitTransition:c,toastRef:d,eventHandlers:e,playToast:f}=function(a){var b,c;let[d,e]=(0,Q.useState)(!1),[f,g]=(0,Q.useState)(!1),h=(0,Q.useRef)(null),i=(0,Q.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:j,pauseOnHover:k,closeToast:l,onClick:m,closeOnClick:n}=a;function o(){e(!0)}function p(){e(!1)}function q(b){let c=h.current;if(i.canDrag&&c){i.didMove=!0,d&&p(),"x"===a.draggableDirection?i.delta=b.clientX-i.start:i.delta=b.clientY-i.start,i.start!==b.clientX&&(i.canCloseOnClick=!1);let e="x"===a.draggableDirection?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;c.style.transform=`translate3d(${e},0)`,c.style.opacity=`${1-Math.abs(i.delta/i.removalDistance)}`}}function r(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",r);let b=h.current;if(i.canDrag&&i.didMove&&b){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance){g(!0),a.closeToast(!0),a.collapseAll();return}b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}b={id:a.toastId,containerId:a.containerId,fn:e},null==(c=E.get(b.containerId||1))||c.setToggle(b.id,b.fn),(0,Q.useEffect)(()=>{if(a.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",o),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",o),window.removeEventListener("blur",p)}},[a.pauseOnFocusLoss]);let s={onPointerDown:function(b){if(!0===a.draggable||a.draggable===b.pointerType){i.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",r);let c=h.current;i.canCloseOnClick=!0,i.canDrag=!0,c.style.transition="none","x"===a.draggableDirection?(i.start=b.clientX,i.removalDistance=c.offsetWidth*(a.draggablePercent/100)):(i.start=b.clientY,i.removalDistance=c.offsetHeight*(80===a.draggablePercent?1.5*a.draggablePercent:a.draggablePercent)/100)}},onPointerUp:function(b){let{top:c,bottom:d,left:e,right:f}=h.current.getBoundingClientRect();"touchend"!==b.nativeEvent.type&&a.pauseOnHover&&b.clientX>=e&&b.clientX<=f&&b.clientY>=c&&b.clientY<=d?p():o()}};return j&&k&&(s.onMouseEnter=p,a.stacked||(s.onMouseLeave=o)),n&&(s.onClick=a=>{m&&m(a),i.canCloseOnClick&&l(!0)}),{playToast:o,pauseToast:p,isRunning:d,preventExitTransition:f,toastRef:h,eventHandlers:s}}(a),{closeButton:g,children:h,autoClose:i,onClick:j,type:k,hideProgressBar:l,closeToast:m,transition:n,position:o,className:p,style:q,progressClassName:r,updateId:s,role:t,progress:u,rtl:x,toastId:y,deleteToast:A,isIn:B,isLoading:C,closeOnClick:D,theme:F,ariaLabel:G}=a,H=(0,S.default)("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${k}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":D}),I="function"==typeof p?p({rtl:x,position:o,type:k,defaultClassName:H}):(0,S.default)(H,p),J=function({theme:a,type:b,isLoading:c,icon:d}){let e=null,f={theme:a,type:b};return!1===d||("function"==typeof d?e=d({...f,isLoading:c}):(0,U.isValidElement)(d)?e=(0,U.cloneElement)(d,f):c?e=W.spinner():b in W&&(e=W[b](f))),e}(a),K=!!u||!i,L={closeToast:m,type:k,theme:F},M=null;return!1===g||(M="function"==typeof g?g(L):(0,T.isValidElement)(g)?(0,T.cloneElement)(g,L):function({closeToast:a,theme:b,ariaLabel:c="close"}){return w.default.createElement("button",{className:`Toastify__close-button Toastify__close-button--${b}`,type:"button",onClick:b=>{b.stopPropagation(),a(!0)},"aria-label":c},w.default.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},w.default.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),T.default.createElement(n,{isIn:B,done:A,position:o,preventExitTransition:c,nodeRef:d,playToast:f},T.default.createElement("div",{id:y,tabIndex:0,onClick:j,"data-in":B,className:I,...e,style:q,ref:d,...B&&{role:t,"aria-label":G}},null!=J&&T.default.createElement("div",{className:(0,S.default)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},J),v(h,a,!b),M,!a.customProgressBar&&T.default.createElement(z,{...s&&!K?{key:`p-${s}`}:{},rtl:x,theme:F,delay:i,isRunning:b,isIn:B,closeToast:m,hide:l,type:k,className:r,controlledProgress:K,progress:u||0})))},Y=(a,b=!1)=>({enter:`Toastify--animate Toastify__${a}-enter`,exit:`Toastify--animate Toastify__${a}-exit`,appendPosition:b}),Z=s(Y("bounce",!0)),$=s(Y("slide",!0)),_=s(Y("zoom")),aa=s(Y("flip")),ab={position:"top-right",transition:Z,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:a=>a.altKey&&"KeyT"===a.code};function ac(a){let b={...ab,...a},c=a.stacked,[d,e]=(0,B.useState)(!0),f=(0,B.useRef)(null),{getToastToRender:g,isToastActive:h,count:i}=function(a){var b;let c,{subscribe:d,getSnapshot:e,setProps:f}=(0,P.useRef)((c=a.containerId||1,{subscribe(b){let d,e,f,g,h,i,j,k,l,m,q,r=(d=1,e=0,f=[],g=[],h=a,i=new Map,j=new Set,k=()=>{g=Array.from(i.values()),j.forEach(a=>a())},l=a=>{var b,c;null==(c=null==(b=a.props)?void 0:b.onClose)||c.call(b,a.removalReason),a.isActive=!1},m=a=>{if(null==a)i.forEach(l);else{let b=i.get(a);b&&l(b)}k()},q=a=>{var b,c;let{toastId:d,updateId:e}=a.props,f=null==e;a.staleId&&i.delete(a.staleId),a.isActive=!0,i.set(d,a),k(),H(u(a,f?"added":"updated")),f&&(null==(c=(b=a.props).onOpen)||c.call(b))},{id:c,props:h,observe:a=>(j.add(a),()=>j.delete(a)),toggle:(a,b)=>{i.forEach(c=>{var d;(null==b||b===c.props.toastId)&&(null==(d=c.toggle)||d.call(c,a))})},removeToast:m,toasts:i,clearQueue:()=>{e-=f.length,f=[]},buildToast:(a,b)=>{let g,j;if((({containerId:a,toastId:b,updateId:d})=>{let e=i.has(b)&&null==d;return(a?a!==c:1!==c)||e})(b))return;let{toastId:l,updateId:r,data:s,staleId:t,delay:v}=b,w=null==r;w&&e++;let x={...h,style:h.toastStyle,key:d++,...Object.fromEntries(Object.entries(b).filter(([a,b])=>null!=b)),toastId:l,updateId:r,data:s,isIn:!1,className:o(b.className||h.toastClassName),progressClassName:o(b.progressClassName||h.progressClassName),autoClose:!b.isLoading&&(g=b.autoClose,j=h.autoClose,!1===g||n(g)&&g>0?g:j),closeToast(a){i.get(l).removalReason=a,m(l)},deleteToast(){let a=i.get(l);if(null!=a){if(H(u(a,"removed")),i.delete(l),--e<0&&(e=0),f.length>0)return void q(f.shift());k()}}};x.closeButton=h.closeButton,!1===b.closeButton||p(b.closeButton)?x.closeButton=b.closeButton:!0===b.closeButton&&(x.closeButton=!p(h.closeButton)||h.closeButton);let y={content:a,props:x,staleId:t};h.limit&&h.limit>0&&e>h.limit&&w?f.push(y):n(v)?setTimeout(()=>{q(y)},v):q(y)},setProps(a){h=a},setToggle:(a,b)=>{let c=i.get(a);c&&(c.toggle=b)},isToastActive:a=>{var b;return null==(b=i.get(a))?void 0:b.isActive},getSnapshot:()=>g});E.set(c,r);let s=r.observe(b);return F.forEach(a=>J(a.content,a.options)),F=[],()=>{s(),E.delete(c)}},setProps(a){var b;null==(b=E.get(c))||b.setProps(a)},getSnapshot(){var a;return null==(a=E.get(c))?void 0:a.getSnapshot()}})).current;f(a);let g=null==(b=(0,P.useSyncExternalStore)(d,e,e))?void 0:b.slice();return{getToastToRender:function(b){if(!g)return[];let c=new Map;return a.newestOnTop&&g.reverse(),g.forEach(a=>{let{position:b}=a.props;c.has(b)||c.set(b,[]),c.get(b).push(a)}),Array.from(c,a=>b(a[0],a[1]))},isToastActive:I,count:null==g?void 0:g.length}}(b),{className:j,style:k,rtl:l,containerId:m,hotKeys:q}=b;function r(){c&&(e(!0),O.play())}return R(()=>{var a;if(c){let c=f.current.querySelectorAll('[data-in="true"]'),e=null==(a=b.position)?void 0:a.includes("top"),g=0,h=0;Array.from(c).reverse().forEach((a,b)=>{a.classList.add("Toastify__toast--stacked"),b>0&&(a.dataset.collapsed=`${d}`),a.dataset.pos||(a.dataset.pos=e?"top":"bot");let c=g*(d?.2:1)+(d?0:12*b);a.style.setProperty("--y",`${e?c:-1*c}px`),a.style.setProperty("--g","12"),a.style.setProperty("--s",`${1-(d?h:0)}`),g+=a.offsetHeight,h+=.025})}},[d,i,c]),(0,B.useEffect)(()=>{function a(a){var b;let c=f.current;q(a)&&(null==(b=c.querySelector('[tabIndex="0"]'))||b.focus(),e(!1),O.pause()),"Escape"===a.key&&(document.activeElement===c||null!=c&&c.contains(document.activeElement))&&(e(!0),O.play())}return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[q]),B.default.createElement("section",{ref:f,className:"Toastify",id:m,onMouseEnter:()=>{c&&(e(!1),O.pause())},onMouseLeave:r,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":b["aria-label"]},g((a,b)=>{var d;let e,f=b.length?{...k}:{...k,pointerEvents:"none"};return B.default.createElement("div",{tabIndex:-1,className:(d=a,e=(0,A.default)("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":l}),"function"==typeof j?j({position:d,rtl:l,defaultClassName:e}):(0,A.default)(e,o(j))),"data-stacked":c,style:f,key:`c-${a}`},b.map(({content:a,props:b})=>B.default.createElement(X,{...b,stacked:c,collapseAll:r,isIn:h(b.toastId,b.containerId),key:`t-${b.key}`},a)))}))}},20116:(a,b,c)=>{Promise.resolve().then(c.bind(c,88981))},23576:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},23928:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},25541:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32979:(a,b,c)=>{"use strict";c.d(b,{Aq:()=>n,Cb:()=>l,de:()=>m,my:()=>k,sV:()=>j}),c(36784);var d=c(96718);let e="https://supa.sirnkunja.co.ke/api/invoices/",f=async a=>{try{let b=new URLSearchParams;a?.page&&b.append("page",a.page),a?.search&&b.append("search",a.search),a?.status&&b.append("status",a.status),a?.date_from&&b.append("date_from",a.date_from),a?.date_to&&b.append("date_to",a.date_to),a?.shop&&b.append("shop",a.shop);let c=b.toString()?`${e}?${b.toString()}`:e;return(await d.default.get(c)).data}catch(a){throw Error("Failed to fetch invoices.")}},g=async a=>{try{return(await d.default.post(e,a)).data}catch(a){throw Error("Failed to create invoice.")}};var h=c(64312),i=c(52208);let j=async(a="30")=>{try{return await (0,i.t)(a)}catch(a){throw Error("Failed to fetch sales statistics.")}},k=async(a=10,b=!1)=>{try{console.log("\uD83D\uDD04 Fetching recent invoices from API");let b=await f({page:"1"});return Array.isArray(b?.results)&&b.results.length&&(b.results=b.results.slice(0,a)),b}catch(a){throw Error("Failed to fetch recent invoices.")}},l=async(a=!1)=>{try{console.log("\uD83D\uDD04 Fetching fresh invoices from API");let a=await f({});return Array.isArray(a?.results)&&a.results.length&&(a.results=a.results.slice(0,a.count)),a}catch(a){throw Error("Failed to fetch all invoices.")}},m=async a=>{try{return await (0,h.ZK)({search:a})}catch(a){throw Error("Failed to fetch products for sale.")}},n=async a=>{try{return await g(a)}catch(a){throw Error("Failed to create sales invoice.")}}},33873:a=>{"use strict";a.exports=require("path")},37826:(a,b,c)=>{"use strict";c.d(b,{Cf:()=>k,Es:()=>m,L3:()=>n,c7:()=>l,lG:()=>h,rr:()=>o});var d=c(60687);c(43210);var e=c(80195),f=c(11860),g=c(96241);function h({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dialog",...a})}function i({...a}){return(0,d.jsx)(e.ZL,{"data-slot":"dialog-portal",...a})}function j({className:a,...b}){return(0,d.jsx)(e.hJ,{"data-slot":"dialog-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function k({className:a,children:b,showCloseButton:c=!0,...h}){return(0,d.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,d.jsx)(j,{}),(0,d.jsxs)(e.UC,{"data-slot":"dialog-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...h,children:[b,c&&(0,d.jsxs)(e.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,d.jsx)(f.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function l({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-header",className:(0,g.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function m({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-footer",className:(0,g.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function n({className:a,...b}){return(0,d.jsx)(e.hE,{"data-slot":"dialog-title",className:(0,g.cn)("text-lg leading-none font-semibold",a),...b})}function o({className:a,...b}){return(0,d.jsx)(e.VY,{"data-slot":"dialog-description",className:(0,g.cn)("text-muted-foreground text-sm",a),...b})}},39390:(a,b,c)=>{"use strict";c.d(b,{J:()=>g});var d=c(60687);c(43210);var e=c(78148),f=c(96241);function g({className:a,...b}){return(0,d.jsx)(e.b,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},39540:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(65239),e=c(48088),f=c(47220),g=c(81289),h=c(26191),i=c(14823),j=c(71998),k=c(92603),l=c(54649),m=c(32781),n=c(82602),o=c(61268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(26713),u=c(43365),v=c(71454),w=c(67778),x=c(46143),y=c(39105),z=c(38171),A=c(86439),B=c(16133),C=c.n(B),D=c(30893),E=c(52836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["sales",{children:["invoices",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,88981)),"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/sales/invoices/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,43085)),"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/sales/layout.tsx"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,58014)),"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(c.bind(c,82366)),"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/not-found.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,16133,23)),"next/dist/client/components/builtin/global-error.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,29868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,79615,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,H=["/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/sales/invoices/page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/sales/invoices/page",pathname:"/sales/invoices",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/sales/invoices/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||b instanceof A.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},40228:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},48340:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},50425:(a,b,c)=>{"use strict";c.d(b,{VN:()=>f,_M:()=>g}),c(36784);var d=c(96718);let e="https://supa.sirnkunja.co.ke/api/credit-notes/",f=async a=>{try{let b=new URLSearchParams;a?.page&&b.append("page",a.page),a?.search&&b.append("search",a.search),a?.date_from&&b.append("date_from",a.date_from),a?.date_to&&b.append("date_to",a.date_to),a?.shop&&b.append("shop",a.shop);let c=b.toString()?`${e}?${b.toString()}`:e;return(await d.default.get(c)).data}catch(a){throw Error("Failed to fetch credit notes.")}},g=async a=>{try{return(await d.default.post(e,a)).data}catch(a){if(a.response?.data)return a.response.data;throw a}}},52208:(a,b,c)=>{"use strict";c.d(b,{t:()=>e}),c(36784);var d=c(96718);let e=async(a="30",b=!1)=>{try{return console.log(` Fetching sales summary from API for ${a} days`),(await d.default.get(`https://supa.sirnkunja.co.ke/api/invoices/sales_summary/?period_days=30?period_days=${a}`)).data}catch(a){throw Error("Failed to fetch sales summary.")}}},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},58869:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68988:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(60687);c(43210);var e=c(96241);function f({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}},72852:(a,b,c)=>{Promise.resolve().then(c.bind(c,88383))},74075:a=>{"use strict";a.exports=require("zlib")},78122:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},78148:(a,b,c)=>{"use strict";c.d(b,{b:()=>h});var d=c(43210),e=c(14163),f=c(60687),g=d.forwardRef((a,b)=>(0,f.jsx)(e.sG.label,{...a,ref:b,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));g.displayName="Label";var h=g},79551:a=>{"use strict";a.exports=require("url")},80462:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},81630:a=>{"use strict";a.exports=require("http")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},88383:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>T});var d=c(60687),e=c(43210),f=c(93853),g=c(32979),h=c(50425),i=c(55192),j=c(80462),k=c(78122),l=c(92834),m=c(11860);let n=[{label:"Today",value:"1",description:"Last 24 hours"},{label:"7 Days",value:"last_7_days",description:"Past week"},{label:"30 Days",value:"30",description:"Last 30 days"},{label:"45 Days",value:"45",description:"Last 45 days"},{label:"90 Days",value:"90",description:"Last 3 months"}];function o({selectedPeriod:a,setSelectedPeriod:b,showCustomRange:e,setShowCustomRange:f,startDate:g,setStartDate:h,endDate:o,setEndDate:p,isCustomRange:q,setIsCustomRange:r,filterLoading:s,filterInvoicesByPeriod:t,filterInvoicesByDateRange:u}){let{toast:v}=c(19352),w=()=>{f(!e),e&&(h(""),p(""),q&&(r(!1),b("30"),t("30")))};return(0,d.jsx)(i.Zp,{className:"bg-white/80 backdrop-blur-sm border border-gray-200/50 shadow-lg",children:(0,d.jsxs)(i.Wu,{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-gray-600"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Date"}),s&&(0,d.jsx)(k.A,{className:"h-3 w-3 animate-spin text-blue-600"})]}),q&&(0,d.jsx)("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(l.A,{className:"h-4 w-4 text-blue-600"}),(0,d.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:["Custom Range: ",(()=>{if(g&&o){let a=new Date(g).toLocaleDateString(),b=new Date(o).toLocaleDateString();return`${a} - ${b}`}return""})()]})]}),(0,d.jsx)("button",{onClick:()=>{h(""),p(""),r(!1),b("30"),f(!1),t("30")},className:"p-1 hover:bg-blue-100 rounded transition-colors",title:"Clear custom range",children:(0,d.jsx)(m.A,{className:"h-3 w-3 text-blue-600"})})]})}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[n.map(c=>(0,d.jsxs)("button",{onClick:()=>{var a;b(a=c.value),r(!1),f(!1),t(a)},disabled:s,className:`
                px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200
                ${a===c.value&&!q?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md transform scale-105":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:shadow-sm"}
                ${s?"opacity-50 cursor-not-allowed":"hover:scale-105"}
              `,title:c.description,children:[s&&a===c.value&&!q&&(0,d.jsx)(k.A,{className:"h-3 w-3 mr-1 animate-spin inline"}),c.label]},c.value)),(0,d.jsxs)("button",{onClick:w,disabled:s,className:`
              px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-1
              ${e||q?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:shadow-sm"}
              ${s?"opacity-50 cursor-not-allowed":"hover:scale-105"}
            `,title:"Select custom date range",children:[(0,d.jsx)(l.A,{className:"h-3 w-3"}),"Custom Range"]})]}),e&&(0,d.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Start Date"}),(0,d.jsx)("input",{type:"date",value:g,onChange:a=>h(a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"End Date"}),(0,d.jsx)("input",{type:"date",value:o,onChange:a=>p(a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>{if(g&&o){if(new Date(g)>new Date(o))return void v.error("Start date cannot be later than end date");r(!0),b("custom"),f(!1),u(g,o)}else v.error("Please select both start and end dates")},disabled:!g||!o||s,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k.A,{className:"h-3 w-3 mr-1 animate-spin inline"}),"Applying..."]}):"Apply Range"}),(0,d.jsx)("button",{onClick:w,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})})}var p=c(23928),q=c(25541),r=c(58559),s=c(5748);function t({filteredTotals:a,formatCurrency:b}){return(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsx)(i.Zp,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:(0,d.jsx)(i.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Sales"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:b(a.totalAmount)})]}),(0,d.jsx)(p.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,d.jsx)(i.Zp,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:(0,d.jsx)(i.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Tax Collected"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:b(a.totalTax)})]}),(0,d.jsx)(q.A,{className:"h-8 w-8 text-purple-600"})]})})}),(0,d.jsx)(i.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:(0,d.jsx)(i.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"Invoice Count"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:a.invoiceCount})]}),(0,d.jsx)(r.A,{className:"h-8 w-8 text-orange-600"})]})})}),a.totalDiscount>0&&(0,d.jsx)(i.Zp,{className:"bg-gradient-to-r from-red-50 to-pink-50 border-red-200",children:(0,d.jsx)(i.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-red-600",children:"Total Discounts"}),(0,d.jsx)("p",{className:"text-xl font-bold text-red-900",children:b(a.totalDiscount)})]}),(0,d.jsx)(s.A,{className:"h-6 w-6 text-red-600"})]})})})]})}var u=c(96752),v=c(24934),w=c(55629),x=c(41862),y=c(23576),z=c(93661),A=c(13861),B=c(58869),C=c(46001),D=c(85778),E=c(40228),F=c(59821);function G({filteredInvoices:a,loading:b,formatCurrency:c,setSelectedInvoice:e,setViewModalOpen:f,setCreditNoteModalOpen:g}){let h=a=>{switch(a.toLowerCase()){case"paid":case"completed":return"default";case"pending":return"secondary";case"cancelled":return"destructive";default:return"outline"}};return b?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,d.jsx)(x.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Loading all invoices..."})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"block lg:hidden space-y-4",children:[a.map(a=>(0,d.jsxs)(i.Zp,{className:"overflow-hidden",children:[(0,d.jsx)(i.aR,{className:"pb-3",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,d.jsx)(y.A,{className:"h-5 w-5 text-primary"}),a.invoice_number]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(F.E,{variant:h(a.status_display),children:a.status_display}),(0,d.jsxs)(w.rI,{children:[(0,d.jsx)(w.ty,{asChild:!0,children:(0,d.jsx)(v.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,d.jsx)(z.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(w.SQ,{align:"end",children:[(0,d.jsxs)(w._2,{onClick:()=>{e(a),f(!0)},children:[(0,d.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"View Invoice"]}),(0,d.jsxs)(w._2,{onClick:()=>{e(a),g(!0)},disabled:!!a.credit_note,children:[(0,d.jsx)(s.A,{className:"mr-2 h-4 w-4"}),a.credit_note?"Credit Note Issued":"Make Credit Note"]})]})]})]})]})}),(0,d.jsx)(i.Wu,{className:"space-y-3",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Customer:"}),(0,d.jsx)("span",{className:"font-medium",children:a.customer_name||"Walk-in Customer"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Shop:"}),(0,d.jsx)("span",{className:"font-medium",children:a.shop_name})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Total:"}),(0,d.jsx)("span",{className:"font-bold text-lg",children:c(a.total_amount)})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Payment:"}),(0,d.jsx)("span",{className:"font-medium",children:a.payment_method_display})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 sm:col-span-2",children:[(0,d.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,d.jsx)("span",{className:"font-medium",children:new Date(a.created_at).toLocaleString()})]})]})})]},a.id)),0===a.length&&!b&&(0,d.jsx)(i.Zp,{children:(0,d.jsxs)(i.Wu,{className:"text-center py-8",children:[(0,d.jsx)(y.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"No invoices found for the selected period"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your date range"})]})})]}),(0,d.jsx)("div",{className:"hidden lg:block",children:(0,d.jsx)(i.Zp,{children:(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsxs)(u.XI,{children:[(0,d.jsx)(u.A0,{children:(0,d.jsxs)(u.Hj,{className:"hover:bg-transparent",children:[(0,d.jsx)(u.nd,{className:"font-semibold",children:"Invoice Number"}),(0,d.jsx)(u.nd,{className:"font-semibold",children:"Customer"}),(0,d.jsx)(u.nd,{className:"font-semibold",children:"Shop"}),(0,d.jsx)(u.nd,{className:"font-semibold text-right",children:"Total Amount"}),(0,d.jsx)(u.nd,{className:"font-semibold",children:"Payment Method"}),(0,d.jsx)(u.nd,{className:"font-semibold",children:"Status"}),(0,d.jsx)(u.nd,{className:"font-semibold",children:"Created At"}),(0,d.jsx)(u.nd,{className:"font-semibold text-center",children:"Actions"})]})}),(0,d.jsx)(u.BF,{children:a.map(a=>(0,d.jsxs)(u.Hj,{className:"hover:bg-muted/50",children:[(0,d.jsx)(u.nA,{className:"font-mono font-medium",children:a.invoice_number}),(0,d.jsx)(u.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"}),a.customer_name||"Walk-in Customer"]})}),(0,d.jsx)(u.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"}),a.shop_name]})}),(0,d.jsx)(u.nA,{className:"text-right font-bold",children:c(a.total_amount)}),(0,d.jsx)(u.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"}),a.payment_method_display]})}),(0,d.jsx)(u.nA,{children:(0,d.jsx)(F.E,{variant:h(a.status_display),children:a.status_display})}),(0,d.jsx)(u.nA,{className:"text-muted-foreground",children:new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,d.jsx)(u.nA,{children:(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsxs)(w.rI,{children:[(0,d.jsx)(w.ty,{asChild:!0,children:(0,d.jsx)(v.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,d.jsx)(z.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(w.SQ,{align:"end",children:[(0,d.jsxs)(w._2,{onClick:()=>{e(a),f(!0)},children:[(0,d.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"View Invoice"]}),(0,d.jsxs)(w._2,{onClick:()=>{e(a),g(!0)},disabled:!!a.credit_note,children:[(0,d.jsx)(s.A,{className:"mr-2 h-4 w-4"}),a.credit_note?"Credit Note Issued":"Make Credit Note"]})]})]})})})]},a.id))})]}),0===a.length&&!b&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(y.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"No invoices found for the selected period"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your date range"})]})]})})})]})}var H=c(37826),I=c(7965),J=c(15574),K=c(48340),L=c(97992),M=c(28561),N=c(19080);function O({open:a,onOpenChange:b,selectedInvoice:c,formatCurrency:e}){return(0,d.jsx)(H.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(H.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)(H.c7,{children:(0,d.jsxs)(H.L3,{className:"flex items-center gap-2 text-xl",children:[(0,d.jsx)(y.A,{className:"h-5 w-5"}),"Invoice Details"]})}),c&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{className:"pb-3",children:(0,d.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Invoice Information"})}),(0,d.jsxs)(i.Wu,{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(J.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"font-mono font-bold",children:c.invoice_number})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-sm",children:new Date(c.created_at).toLocaleString()})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(F.E,{variant:(a=>{switch(a.toLowerCase()){case"paid":case"completed":return"default";case"pending":return"secondary";case"cancelled":return"destructive";default:return"outline"}})(c.status_display),children:c.status_display})})]})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{className:"pb-3",children:(0,d.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Customer & Shop"})}),(0,d.jsxs)(i.Wu,{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"font-medium",children:c.customer_name||"Walk-in Customer"})]}),c.customer_phone&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(K.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-sm",children:c.customer_phone})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"font-medium",children:c.shop_name})]}),c.shop_address&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(L.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-sm",children:c.shop_address})]})]})]})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{children:(0,d.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(M.A,{className:"h-5 w-5"}),"Items (",c.items?.length||0,")"]})}),(0,d.jsx)(i.Wu,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.items?.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:a.product_name}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Qty: ",a.quantity," \xd7"," ",e(a.unit_price)]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"font-bold",children:e(a.total_price)}),void 0!==a.available_stock&&(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Stock: ",a.available_stock]})]})]},a.id||b))})})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{children:(0,d.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(p.A,{className:"h-5 w-5"}),"Payment Summary"]})}),(0,d.jsx)(i.Wu,{children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Subtotal:"}),(0,d.jsx)("span",{children:e(c.subtotal)})]}),Number(c.tax_amount)>0&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Tax:"}),(0,d.jsx)("span",{children:e(c.tax_amount)})]}),Number(c.discount_amount)>0&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Discount:"}),(0,d.jsxs)("span",{className:"text-green-600",children:["-",e(c.discount_amount)]})]}),(0,d.jsx)(I.w,{}),(0,d.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,d.jsx)("span",{children:"Total:"}),(0,d.jsx)("span",{children:e(c.total_amount)})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Amount Paid:"}),(0,d.jsx)("span",{className:"text-green-600",children:e(c.amount_paid)})]}),Number(c.change_amount)>0&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Change:"}),(0,d.jsx)("span",{children:e(c.change_amount)})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,d.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:c.payment_method_display})]})]})})]}),c.notes&&(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{children:(0,d.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Notes"})}),(0,d.jsx)(i.Wu,{children:(0,d.jsx)("p",{className:"text-sm",children:c.notes})})]})]})]})})}var P=c(68988),Q=c(39390),R=c(10022);function S({open:a,onOpenChange:b,selectedInvoice:c,creditNoteNotes:e,setCreditNoteNotes:f,creatingCreditNote:g,handleCreateCreditNote:h,formatCurrency:j}){return(0,d.jsx)(H.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(H.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)(H.c7,{children:(0,d.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(R.A,{className:"h-5 w-5"}),"Create Credit Note"]})}),c&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{className:"pb-3",children:(0,d.jsx)(i.ZB,{className:"text-lg",children:"Invoice Summary"})}),(0,d.jsx)(i.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground",children:"Invoice Number:"}),(0,d.jsx)("p",{className:"font-mono font-bold",children:c.invoice_number})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground",children:"Customer:"}),(0,d.jsx)("p",{className:"font-medium",children:c.customer_name||"Walk-in Customer"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground",children:"Total Amount:"}),(0,d.jsx)("p",{className:"font-bold text-lg",children:j(c.total_amount)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground",children:"Payment Method:"}),(0,d.jsx)("p",{className:"font-medium",children:c.payment_method_display})]})]})})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsx)(i.aR,{children:(0,d.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(N.A,{className:"h-5 w-5"}),"Items to Credit"]})}),(0,d.jsx)(i.Wu,{children:(0,d.jsxs)("div",{className:"space-y-2",children:[c.items?.map((a,b)=>(0,d.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:a.product_name}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Qty: ",a.quantity," \xd7"," ",j(a.unit_price)]})]}),(0,d.jsx)("p",{className:"font-bold",children:j(a.total_price)})]},a.id||b)),(0,d.jsx)(I.w,{className:"my-2"}),(0,d.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,d.jsx)("span",{children:"Credit Total:"}),(0,d.jsx)("span",{className:"text-red-600",children:j(c.total_amount)})]})]})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(Q.J,{htmlFor:"credit-notes",className:"text-sm font-medium",children:"Notes (Optional)"}),(0,d.jsx)(P.p,{id:"credit-notes",value:e,onChange:a=>f(a.target.value),placeholder:"Enter reason for credit note or additional notes",className:"mt-1"})]})]}),(0,d.jsxs)(H.Es,{className:"gap-2 sm:gap-0",children:[(0,d.jsx)(v.$,{variant:"outline",onClick:()=>b(!1),disabled:g,children:"Cancel"}),(0,d.jsxs)(v.$,{onClick:h,disabled:g,className:"bg-red-600 hover:bg-red-700",children:[g&&(0,d.jsx)(x.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Credit Note"]})]})]})})}function T(){let[a,b]=(0,e.useState)([]),[c,i]=(0,e.useState)([]),[j,k]=(0,e.useState)(!0),[l,m]=(0,e.useState)(!1),[n,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(!1),[s,u]=(0,e.useState)(null),[v,w]=(0,e.useState)(""),[x,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)("30"),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(""),[H,I]=(0,e.useState)(""),[J,K]=(0,e.useState)(!1),L=(0,e.useMemo)(()=>{let a={totalAmount:0,totalPaid:0,totalTax:0,totalDiscount:0,invoiceCount:c.length};return c.forEach(b=>{a.totalAmount+=Number(b.total_amount)||0,a.totalPaid+=Number(b.amount_paid)||0,a.totalTax+=Number(b.tax_amount)||0,a.totalDiscount+=Number(b.discount_amount)||0}),a},[c]),M=a=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(Number(a)),N=async()=>{if(s){z(!0);try{let a=await (0,h._M)({invoice_id:s.id,notes:v});if(a&&a.credit_note){f.oR.success(`Credit note ${a.credit_note.credit_note_number} created successfully`);let c=await (0,g.Cb)();b(c.results),J&&E&&H?Q(E,H):P(A),p(!1),w(""),u(null)}else{let b=a?.invoice?.[0]||a?.message||"Failed to create credit note";f.oR.error(b)}}catch(a){console.error("Error creating credit note:",a),f.oR.error("Failed to create credit note")}finally{z(!1)}}},P=b=>{let c;m(!0);let d=new Date;switch(b){case"1":c=new Date(d.getFullYear(),d.getMonth(),d.getDate());break;case"last_7_days":c=new Date(d.getTime()-6048e5);break;case"30":c=new Date(d.getTime()-2592e6);break;case"45":c=new Date(d.getTime()-3888e6);break;case"90":c=new Date(d.getTime()-7776e6);break;default:i(a),m(!1);return}let e=a.filter(a=>new Date(a.created_at)>=c);setTimeout(()=>{i(e),m(!1)},300)},Q=(b,c)=>{m(!0);let d=new Date(b),e=new Date(c);e.setHours(23,59,59,999);let f=a.filter(a=>{let b=new Date(a.created_at);return b>=d&&b<=e});setTimeout(()=>{i(f),m(!1)},300)};return(0,d.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Invoices"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Manage and track all your invoices"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(y.A,{className:"h-4 w-4"}),(0,d.jsxs)("span",{children:[c.length," of ",a.length," invoices"]})]})]}),(0,d.jsx)(t,{filteredTotals:L,formatCurrency:M}),(0,d.jsx)(o,{selectedPeriod:A,setSelectedPeriod:B,showCustomRange:C,setShowCustomRange:D,startDate:E,setStartDate:F,endDate:H,setEndDate:I,isCustomRange:J,setIsCustomRange:K,filterLoading:l,filterInvoicesByPeriod:P,filterInvoicesByDateRange:Q}),(0,d.jsx)(G,{filteredInvoices:c,loading:j,formatCurrency:M,setSelectedInvoice:u,setViewModalOpen:r,setCreditNoteModalOpen:p}),(0,d.jsx)(O,{open:q,onOpenChange:r,selectedInvoice:s,formatCurrency:M}),(0,d.jsx)(S,{open:n,onOpenChange:p,selectedInvoice:s,creditNoteNotes:v,setCreditNoteNotes:w,creatingCreditNote:x,handleCreateCreditNote:N,formatCurrency:M})]})}},88981:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/sales/invoices/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sirnkunja/code/supapos/Pharmacy-suite-frontend/app/sales/invoices/page.tsx","default")},92834:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},93499:a=>{function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.exports=b,a.exports.clsx=b},93661:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},94735:a=>{"use strict";a.exports=require("events")},96752:(a,b,c)=>{"use strict";c.d(b,{A0:()=>g,BF:()=>h,Hj:()=>i,XI:()=>f,nA:()=>k,nd:()=>j});var d=c(60687);c(43210);var e=c(96241);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,d.jsx)("table",{"data-slot":"table",className:(0,e.cn)("w-full caption-bottom text-sm",a),...b})})}function g({className:a,...b}){return(0,d.jsx)("thead",{"data-slot":"table-header",className:(0,e.cn)("[&_tr]:border-b",a),...b})}function h({className:a,...b}){return(0,d.jsx)("tbody",{"data-slot":"table-body",className:(0,e.cn)("[&_tr:last-child]:border-0",a),...b})}function i({className:a,...b}){return(0,d.jsx)("tr",{"data-slot":"table-row",className:(0,e.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...b})}function j({className:a,...b}){return(0,d.jsx)("th",{"data-slot":"table-head",className:(0,e.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}function k({className:a,...b}){return(0,d.jsx)("td",{"data-slot":"table-cell",className:(0,e.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}},97992:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[4985,7574,1781,8577,8352,195,7812,3168,8103,4312],()=>b(b.s=39540));module.exports=c})();